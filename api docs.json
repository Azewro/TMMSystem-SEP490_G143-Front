{
  "openapi": "3.0.1",
  "info": {
    "title": "TMMSystem API",
    "version": "v1"
  },
  "servers": [
    {
      "url": "https://tmmsystem-sep490g143-production.up.railway.app",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "bearer-jwt": []
    }
  ],
  "tags": [
    {
      "name": "Lựa chọn Máy móc Thông minh",
      "description": "API lựa chọn máy móc thông minh và lập lịch sản xuất với phân tích khả dụng và công suất"
    },
    {
      "name": "Quản lý Kế hoạch Sản xuất",
      "description": "API quản lý kế hoạch sản xuất chi tiết với lựa chọn máy móc thông minh"
    },
    {
      "name": "Material Stock Management",
      "description": "API quản lý nhập kho nguyên liệu cho Production Manager"
    },
    {
      "name": "Production Lots",
      "description": "API danh sách lô đã merge phục vụ lập kế hoạch"
    },
    {
      "name": "Tính toán Nguyên vật liệu & Lập kế hoạch",
      "description": "API tính toán tiêu hao nguyên vật liệu và kiểm tra khả dụng dựa trên BOM"
    }
  ],
  "paths": {
    "/v1/system/report-templates/{id}": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "getReportTemplate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReportTemplateDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "system-controller"
        ],
        "operationId": "updateReportTemplate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReportTemplateDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "system-controller"
        ],
        "operationId": "deleteReportTemplate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/roles/{id}": {
      "get": {
        "tags": [
          "role-controller"
        ],
        "operationId": "getRoleById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "role-controller"
        ],
        "operationId": "updateRole",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "role-controller"
        ],
        "operationId": "deleteRole",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/rfqs/{id}": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Lấy chi tiết RFQ",
        "description": "Lấy thông tin RFQ theo id, bao gồm danh sách sản phẩm chi tiết nếu có",
        "operationId": "get",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Không tìm thấy RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          },
          "200": {
            "description": "Chi tiết RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "RFQ"
        ],
        "summary": "Cập nhật RFQ",
        "description": "Cập nhật thông tin chung của RFQ. Không bao gồm chi tiết sản phẩm.",
        "operationId": "update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật RFQ",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "RFQ"
        ],
        "summary": "Xóa RFQ",
        "description": "Xóa RFQ theo id khi chưa được xử lý tiếp.",
        "operationId": "delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Không tìm thấy RFQ"
          },
          "204": {
            "description": "Đã xóa"
          }
        }
      }
    },
    "/v1/rfqs/{id}/expected-delivery-date": {
      "put": {
        "tags": [
          "RFQ"
        ],
        "summary": "Cập nhật ngày giao hàng mong muốn",
        "description": "Cập nhật ngày giao hàng mong muốn của RFQ. Hỗ trợ 2 định dạng: yyyy-MM-dd (2025-05-10) hoặc dd-MM-yyyy (10-05-2025)",
        "operationId": "updateExpectedDeliveryDate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "expectedDeliveryDate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ngày giao hàng đã được cập nhật",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          },
          "400": {
            "description": "Ngày không hợp lệ. Hỗ trợ định dạng: yyyy-MM-dd hoặc dd-MM-yyyy",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/details/{id}": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Lấy 1 dòng chi tiết RFQ",
        "description": "Lấy thông tin chi tiết của 1 dòng sản phẩm trong RFQ",
        "operationId": "getDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID chi tiết RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Chi tiết RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy chi tiết RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "RFQ"
        ],
        "summary": "Cập nhật chi tiết sản phẩm trong RFQ",
        "description": "Cập nhật thông tin của 1 dòng sản phẩm trong RFQ",
        "operationId": "updateDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID chi tiết RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật chi tiết RFQ",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy chi tiết RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          },
          "200": {
            "description": "Chi tiết RFQ đã được cập nhật",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "RFQ"
        ],
        "summary": "Xóa 1 dòng chi tiết RFQ",
        "description": "Xóa 1 dòng sản phẩm khỏi RFQ",
        "operationId": "deleteDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID chi tiết RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Chi tiết RFQ đã được xóa"
          },
          "404": {
            "description": "Không tìm thấy chi tiết RFQ"
          }
        }
      }
    },
    "/v1/quotations/{id}": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Lấy chi tiết báo giá",
        "description": "Lấy thông tin chi tiết của 1 báo giá theo ID",
        "operationId": "get_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID báo giá",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Không tìm thấy báo giá",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          },
          "200": {
            "description": "Chi tiết báo giá",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Cập nhật báo giá",
        "operationId": "update_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật báo giá",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuotationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "quotation-controller"
        ],
        "operationId": "delete_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/qc/standards/{id}": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "getStandard",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcStandardDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "updateStandard",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcStandardDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcStandardDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "deleteStandard",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/qc/inspections/{id}": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "getInspection",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcInspectionDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "updateInspection",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcInspectionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcInspectionDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "deleteInspection",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/qc/defects/{id}": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "getDefect",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcDefectDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "updateDefect",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcDefectDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcDefectDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "deleteDefect",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/qc/checkpoints/{id}": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "getCheckpoint",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcCheckpointDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "updateCheckpoint",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcCheckpointDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcCheckpointDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "deleteCheckpoint",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/products/{id}": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "getProduct",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "product-controller"
        ],
        "operationId": "updateProduct",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "product-controller"
        ],
        "operationId": "deleteProduct",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/products/materials/{id}": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "getMaterial",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "product-controller"
        ],
        "operationId": "updateMaterial",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "product-controller"
        ],
        "operationId": "deleteMaterial",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/products/boms/{id}": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "getBom",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "product-controller"
        ],
        "operationId": "updateBom",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BomDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "product-controller"
        ],
        "operationId": "deleteBom",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/products/bom-details/{id}": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "getBomDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDetailDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "product-controller"
        ],
        "operationId": "updateBomDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BomDetailDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "product-controller"
        ],
        "operationId": "deleteBomDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/work-orders/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getWO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật Work Order",
        "operationId": "updateWO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật WO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkOrderDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deleteWO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/work-order-details/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getWODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDetailDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật chi tiết WO",
        "operationId": "updateWODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật chi tiết WO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkOrderDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deleteWODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/tech-sheets/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getTechSheet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TechnicalSheetDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật Technical Sheet",
        "operationId": "updateTechSheet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật Technical Sheet",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TechnicalSheetDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TechnicalSheetDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deleteTechSheet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/stages/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getStage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật Production Stage",
        "operationId": "updateStage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật Stage",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionStageDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deleteStage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/risks/{riskId}/set-impact": {
      "put": {
        "tags": [
          "risk-controller"
        ],
        "summary": "Set impact of Risk Assessment",
        "operationId": "setImpact",
        "parameters": [
          {
            "name": "riskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "impacted",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "proposedDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageRiskAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/risks/{riskId}/reject": {
      "put": {
        "tags": [
          "risk-controller"
        ],
        "operationId": "reject",
        "parameters": [
          {
            "name": "riskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "approverId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageRiskAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/risks/{riskId}/approve": {
      "put": {
        "tags": [
          "risk-controller"
        ],
        "summary": "Approve/Reject Risk Assessment",
        "operationId": "approve",
        "parameters": [
          {
            "name": "riskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "approverId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageRiskAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getPO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật Production Order",
        "operationId": "updatePO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật PO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionOrderDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deletePO",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/order-details/{id}": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "getPODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDetailDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Production"
        ],
        "summary": "Cập nhật chi tiết PO",
        "operationId": "updatePODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật chi tiết PO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionOrderDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Production"
        ],
        "operationId": "deletePODetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production/material-stock/{id}": {
      "get": {
        "tags": [
          "Material Stock Management"
        ],
        "summary": "Lấy chi tiết nhập kho nguyên liệu",
        "description": "Lấy thông tin chi tiết của một lần nhập kho nguyên liệu",
        "operationId": "get_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID nhập kho",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialStockDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Material Stock Management"
        ],
        "summary": "Cập nhật nhập kho nguyên liệu",
        "description": "Production Manager cập nhật thông tin nhập kho nguyên liệu",
        "operationId": "update_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID nhập kho",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialStockDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialStockDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Material Stock Management"
        ],
        "summary": "Xóa nhập kho nguyên liệu",
        "description": "Production Manager xóa bản ghi nhập kho nguyên liệu",
        "operationId": "delete_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID nhập kho",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/production-plans/{id}/submit": {
      "put": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Gửi kế hoạch để phê duyệt",
        "description": "Gửi kế hoạch sản xuất đang ở trạng thái DRAFT để giám đốc phê duyệt. Kế hoạch sẽ chuyển sang trạng thái PENDING_APPROVAL",
        "operationId": "submitForApproval",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kế hoạch sản xuất cần gửi duyệt",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "requestBody": {
          "description": "Thông tin gửi duyệt",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitForApprovalRequest"
              },
              "example": {
                "notes": "Kế hoạch sản xuất đã hoàn thiện, xin phê duyệt"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Kế hoạch không ở trạng thái DRAFT",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Kế hoạch đã được gửi để duyệt",
            "content": {
              "application/json": {
                "example": {
                  "id": 1,
                  "planCode": "PP-2025-001",
                  "status": "PENDING_APPROVAL",
                  "submittedAt": "2025-10-26T10:30:00Z",
                  "message": "Kế hoạch đã được gửi để phê duyệt"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/{id}/reject": {
      "put": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Từ chối kế hoạch sản xuất",
        "description": "Giám đốc từ chối kế hoạch sản xuất với lý do cụ thể. Kế hoạch sẽ chuyển sang trạng thái REJECTED",
        "operationId": "rejectPlan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kế hoạch sản xuất cần từ chối",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "requestBody": {
          "description": "Thông tin từ chối",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectProductionPlanRequest"
              },
              "example": {
                "rejectionReason": "Cần điều chỉnh lại thời gian sản xuất và phân bổ máy móc",
                "notes": "Vui lòng xem xét lại và gửi lại để duyệt"
              }
            }
          },
          "required": true
        },
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Kế hoạch đã bị từ chối",
            "content": {
              "application/json": {
                "example": {
                  "id": 1,
                  "planCode": "PP-2025-001",
                  "status": "REJECTED",
                  "rejectedAt": "2025-10-26T11:30:00Z",
                  "rejectionReason": "Cần điều chỉnh lại thời gian sản xuất",
                  "message": "Kế hoạch đã bị từ chối"
                }
              }
            }
          },
          "400": {
            "description": "Kế hoạch không ở trạng thái PENDING_APPROVAL",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/{id}/approve": {
      "put": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Phê duyệt kế hoạch sản xuất",
        "description": "Giám đốc phê duyệt kế hoạch sản xuất và hệ thống tự động tạo Production Order. Kế hoạch sẽ chuyển sang trạng thái APPROVED",
        "operationId": "approvePlan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kế hoạch sản xuất cần phê duyệt",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "requestBody": {
          "description": "Thông tin phê duyệt",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveProductionPlanRequest"
              },
              "example": {
                "notes": "Kế hoạch sản xuất được phê duyệt, có thể tiến hành sản xuất"
              }
            }
          },
          "required": true
        },
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Kế hoạch đã được phê duyệt và Production Order đã được tạo",
            "content": {
              "application/json": {
                "example": {
                  "id": 1,
                  "planCode": "PP-2025-001",
                  "status": "APPROVED",
                  "approvedAt": "2025-10-26T11:00:00Z",
                  "productionOrderId": 1,
                  "message": "Kế hoạch đã được phê duyệt và Production Order đã được tạo"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "400": {
            "description": "Kế hoạch không ở trạng thái PENDING_APPROVAL",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/stages/{stageId}": {
      "put": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Cập nhật công đoạn sản xuất",
        "description": "Cập nhật máy, người phụ trách, QC, thời gian và ghi chú cho một stage bằng một endpoint duy nhất",
        "operationId": "updateStage_1",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionPlanStageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/product-categories/{id}": {
      "get": {
        "tags": [
          "product-category-controller"
        ],
        "operationId": "get_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductCategoryDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "product-category-controller"
        ],
        "summary": "Cập nhật danh mục sản phẩm",
        "operationId": "update_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật danh mục",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductCategoryDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "product-category-controller"
        ],
        "operationId": "delete_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/{id}": {
      "get": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "getPayment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "payment-controller"
        ],
        "summary": "Cập nhật thanh toán",
        "operationId": "updatePayment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật thanh toán",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "deletePayment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/payments/terms/{id}": {
      "get": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "getTerm",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentTermDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "payment-controller"
        ],
        "summary": "Cập nhật điều khoản thanh toán",
        "operationId": "updateTerm",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật điều khoản",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentTermDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentTermDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "deleteTerm",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/machines/{id}": {
      "get": {
        "tags": [
          "machine-controller"
        ],
        "operationId": "get_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "machine-controller"
        ],
        "summary": "Cập nhật máy",
        "operationId": "update_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật máy",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "machine-controller"
        ],
        "operationId": "delete_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/maintenances/{id}": {
      "get": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "getMaintenance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMaintenanceDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "updateMaintenance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineMaintenanceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMaintenanceDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "deleteMaintenance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/requisitions/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getReq",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "updateReq",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialRequisitionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deleteReq",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/requisition-details/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getReqDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "updateReqDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deleteReqDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/pauses/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getPause",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StagePauseLogDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "updatePause",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StagePauseLogDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StagePauseLogDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deletePause",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/outsourcing/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getOutsourcing",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OutsourcingTaskDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "updateOutsourcing",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutsourcingTaskDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OutsourcingTaskDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deleteOutsourcing",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/losses/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getLoss",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionLossDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "updateLoss",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionLossDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionLossDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deleteLoss",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/customers/{id}": {
      "get": {
        "tags": [
          "customer-controller"
        ],
        "operationId": "get_5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "customer-controller"
        ],
        "summary": "Cập nhật khách hàng",
        "operationId": "update_5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật khách hàng",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "customer-controller"
        ],
        "operationId": "delete_5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "operationId": "get_6",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Cập nhật hợp đồng",
        "operationId": "update_6",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật hợp đồng",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContractDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "contract-controller"
        ],
        "operationId": "delete_6",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/users/{id}": {
      "get": {
        "tags": [
          "user-controller"
        ],
        "operationId": "getOne",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "user-controller"
        ],
        "summary": "Cập nhật user",
        "operationId": "update_7",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload cập nhật user",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "user-controller"
        ],
        "operationId": "delete_7",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/system/report-templates": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "listReportTemplates",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReportTemplateDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "system-controller"
        ],
        "summary": "Tạo report template",
        "operationId": "createReportTemplate",
        "requestBody": {
          "description": "Payload report template",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportTemplateDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReportTemplateDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/notifications": {
      "post": {
        "tags": [
          "system-controller"
        ],
        "summary": "Tạo notification",
        "operationId": "createNotification",
        "requestBody": {
          "description": "Payload notification",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/notifications/{id}/read": {
      "post": {
        "tags": [
          "system-controller"
        ],
        "operationId": "markRead",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "readAt",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/audit-logs": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "listAuditLogs",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLogDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "system-controller"
        ],
        "summary": "Tạo audit log",
        "operationId": "createAuditLog",
        "requestBody": {
          "description": "Payload audit log",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuditLogDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuditLogDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/roles": {
      "get": {
        "tags": [
          "role-controller"
        ],
        "operationId": "getAllRoles",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "role-controller"
        ],
        "operationId": "createRole",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Danh sách RFQ",
        "description": "Trả về danh sách RFQ đã tạo (bao gồm trạng thái hiện tại và chi tiết nếu có)",
        "operationId": "list",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã RFQ hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "customerId",
            "in": "query",
            "description": "Lọc theo ID khách hàng",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "createdDate",
            "in": "query",
            "description": "Lọc theo ngày tạo (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Danh sách RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Tạo RFQ (khách đã đăng nhập)",
        "description": "Customer/Sale tạo yêu cầu báo giá ở trạng thái DRAFT. Bắt buộc cung cấp customerId (khách đã đăng nhập).",
        "operationId": "create",
        "requestBody": {
          "description": "Payload tạo RFQ (khách đã đăng nhập)",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqCreateDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{rfqId}/details": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Danh sách chi tiết sản phẩm của RFQ",
        "description": "Trả về các dòng sản phẩm (product, quantity, unit, notes) thuộc RFQ",
        "operationId": "listDetails",
        "parameters": [
          {
            "name": "rfqId",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RfqDetailDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Thêm chi tiết sản phẩm vào RFQ",
        "description": "Thêm 1 dòng sản phẩm mới vào RFQ (product, quantity, unit, notes)",
        "operationId": "addDetail",
        "parameters": [
          {
            "name": "rfqId",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload thêm chi tiết RFQ",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy RFQ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          },
          "200": {
            "description": "Chi tiết RFQ đã được thêm",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDetailDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/send": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Gửi RFQ (chuyển từ DRAFT sang SENT)",
        "description": "Sau khi khách hàng tạo, Sale Staff gửi yêu cầu để bắt đầu xử lý. Hệ thống sẽ thông báo cho Sale.",
        "operationId": "sendRfq",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/receive-by-planning": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Planning Department nhận RFQ",
        "description": "Phòng kế hoạch xác nhận đã nhận RFQ để xử lý kiểm tra năng lực.",
        "operationId": "receiveByPlanning",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/preliminary-check": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Kiểm tra sơ bộ RFQ",
        "description": "Sale Staff kiểm tra sơ bộ các thông tin bắt buộc (ít nhất 1 dòng sản phẩm, ngày giao hàng). Trạng thái chuyển sang PRELIMINARY_CHECKED.",
        "operationId": "preliminaryCheck",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/forward-to-planning": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Chuyển RFQ sang Planning Department",
        "description": "Chỉ thực hiện được sau khi đã preliminary-check. Trạng thái chuyển sang FORWARDED_TO_PLANNING và hệ thống thông báo cho Planning.",
        "operationId": "forwardToPlanning",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/check-machine-capacity": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Kiểm tra năng lực máy móc",
        "description": "Planning Department kiểm tra năng lực máy móc cho RFQ, tính toán bottleneck và xung đột với đơn hàng khác",
        "operationId": "checkMachineCapacity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CapacityCheckResultDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/capacity-evaluate": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Đánh giá năng lực (Planning ghi kết quả)",
        "description": "Planning gửi kết quả đánh giá năng lực: SUFFICIENT/INSUFFICIENT + lý do + ngày đề xuất mới",
        "operationId": "capacityEvaluate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reason",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "proposedNewDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/cancel": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Hủy RFQ",
        "description": "Hủy RFQ ở mọi trạng thái đang xử lý. Hệ thống sẽ gửi thông báo liên quan.",
        "operationId": "cancelRfq",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/assign": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Gán Sales cho RFQ (chỉ khi DRAFT)",
        "operationId": "assign",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload gán Sales",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqAssignRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/assign-sales": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Assign Sales for RFQ (DRAFT)",
        "description": "Assign Sales by userId or employeeCode while RFQ is in DRAFT. Planning assignment not required here.",
        "operationId": "assignSales",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "RFQ ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Assign Sales payload",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignSalesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/public": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Tạo RFQ (public form)",
        "description": "Dành cho khách chưa đăng nhập: cung cấp contactPerson, contactEmail or contactPhone, contactAddress. Hệ thống sẽ tìm customer theo email/phone hoặc sinh customer mới (is_verified=false) và gán vào RFQ.",
        "operationId": "createPublic",
        "requestBody": {
          "description": "Payload tạo RFQ public",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RfqPublicCreateDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/by-sales": {
      "post": {
        "tags": [
          "RFQ"
        ],
        "summary": "Sales tạo RFQ thay khách hàng (không dùng hệ thống)",
        "description": "Sales tự tạo RFQ bằng thông tin liên hệ khách (email/phone). Sales sẽ tự được gán vào RFQ. Nếu customer chưa tồn tại sẽ tự tạo mới.",
        "operationId": "createBySales",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload tạo RFQ bởi Sales",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRfqCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Danh sách báo giá",
        "description": "Trả về danh sách tất cả báo giá trong hệ thống",
        "operationId": "list_1",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã báo giá hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Danh sách báo giá",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Tạo báo giá",
        "description": "Tạo báo giá mới (thường được tạo tự động từ RFQ)",
        "operationId": "create_1",
        "requestBody": {
          "description": "Payload tạo báo giá",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuotationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Báo giá đã được tạo",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/upload-signed": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Upload báo giá đã ký",
        "description": "Sale upload file PDF báo giá đã ký",
        "operationId": "uploadSignedQuotation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID báo giá",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "File báo giá đã ký",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "404": {
            "description": "Không tìm thấy báo giá",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          },
          "200": {
            "description": "Upload thành công",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/send-to-customer": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Gửi báo giá cho khách hàng",
        "description": "Sale Staff gửi báo giá cho khách hàng, hệ thống sẽ gửi thông báo",
        "operationId": "sendToCustomer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID Quotation",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/reject": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Từ chối báo giá",
        "description": "Customer từ chối báo giá, kết thúc quy trình",
        "operationId": "rejectQuotation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID Quotation",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/create-order": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Tạo đơn hàng từ báo giá",
        "description": "Hệ thống tự động tạo đơn hàng (Contract) khi Customer duyệt báo giá",
        "operationId": "createOrderFromQuotation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID Quotation",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/approve": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Duyệt báo giá",
        "description": "Customer duyệt báo giá, hệ thống sẽ tạo đơn hàng tự động",
        "operationId": "approveQuotation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID Quotation",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/recalculate-price": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Tính lại giá khi thay đổi profit margin",
        "description": "Tính lại giá báo giá khi user thay đổi % lợi nhuận, trả về tổng giá mới",
        "operationId": "recalculatePrice",
        "requestBody": {
          "description": "Thông tin tính lại giá",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecalculatePriceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PriceCalculationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/create-from-rfq": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Planning tạo báo giá từ RFQ",
        "description": "Planning Department tạo báo giá từ RFQ đã nhận, tự động tính giá theo công thức với lợi nhuận có thể thay đổi",
        "operationId": "createFromRfq",
        "requestBody": {
          "description": "Thông tin tạo báo giá",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/calculate-price": {
      "post": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Tính giá báo giá từ RFQ",
        "description": "Planning Department tính giá báo giá từ RFQ để xem trước trước khi tạo báo giá chính thức",
        "operationId": "calculatePrice",
        "requestBody": {
          "description": "Thông tin tính giá",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PriceCalculationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/standards": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "listStandards",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QcStandardDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "qc-controller"
        ],
        "summary": "Tạo QC Standard",
        "operationId": "createStandard",
        "requestBody": {
          "description": "Payload tạo standard",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcStandardDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcStandardDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/photos": {
      "post": {
        "tags": [
          "qc-controller"
        ],
        "summary": "Tạo QC Photo",
        "operationId": "createPhoto",
        "requestBody": {
          "description": "Payload tạo photo",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcPhotoDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcPhotoDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/inspections": {
      "post": {
        "tags": [
          "qc-controller"
        ],
        "summary": "Tạo QC Inspection",
        "operationId": "createInspection",
        "requestBody": {
          "description": "Payload tạo inspection",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcInspectionDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcInspectionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/defects": {
      "post": {
        "tags": [
          "qc-controller"
        ],
        "summary": "Tạo QC Defect",
        "operationId": "createDefect",
        "requestBody": {
          "description": "Payload tạo defect",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcDefectDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcDefectDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/checkpoints": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "listCheckpoints",
        "parameters": [
          {
            "name": "stageType",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QcCheckpointDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "qc-controller"
        ],
        "summary": "Tạo QC Checkpoint",
        "operationId": "createCheckpoint",
        "requestBody": {
          "description": "Payload tạo checkpoint",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QcCheckpointDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcCheckpointDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "listProducts",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "product-controller"
        ],
        "summary": "Tạo Product",
        "operationId": "createProduct",
        "requestBody": {
          "description": "Payload tạo product",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/materials": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "listMaterials",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MaterialDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "product-controller"
        ],
        "summary": "Tạo Material",
        "operationId": "createMaterial",
        "requestBody": {
          "description": "Payload tạo material",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/boms": {
      "post": {
        "tags": [
          "product-controller"
        ],
        "summary": "Tạo BOM",
        "operationId": "createBom",
        "requestBody": {
          "description": "Payload tạo BOM",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BomDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/bom-details": {
      "post": {
        "tags": [
          "product-controller"
        ],
        "summary": "Thêm BOM Detail",
        "operationId": "createBomDetail",
        "requestBody": {
          "description": "Payload tạo BOM detail",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BomDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BomDetailDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo Work Order",
        "operationId": "createWO",
        "requestBody": {
          "description": "Payload tạo WO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkOrderDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders/{woId}/assign-leaders": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Bulk phân công leader cho các stage của Work Order",
        "operationId": "bulkAssignLeaders",
        "parameters": [
          {
            "name": "woId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionStageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders/{id}/submit-approval": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Submit Work Order for approval",
        "operationId": "submitWoApproval",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders/{id}/reject": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Reject Work Order",
        "operationId": "rejectWo",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pmId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "reason",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders/{id}/approve": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Approve Work Order",
        "operationId": "approveWo",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pmId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-order-details": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Thêm chi tiết WO",
        "operationId": "createWODetail",
        "requestBody": {
          "description": "Payload tạo chi tiết WO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkOrderDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDetailDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/tech-sheets": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo Technical Sheet",
        "operationId": "createTechSheet",
        "requestBody": {
          "description": "Payload tạo Technical Sheet",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TechnicalSheetDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TechnicalSheetDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo Production Stage",
        "operationId": "createStage",
        "requestBody": {
          "description": "Payload tạo Stage",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionStageDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{stageId}/risk": {
      "post": {
        "tags": [
          "risk-controller"
        ],
        "summary": "Create Stage Risk Assessment",
        "operationId": "create_2",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "severity",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "description",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "rootCause",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "solutionProposal",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageRiskAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/start": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Leader bắt đầu công đoạn",
        "operationId": "leaderStart",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "leaderUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "evidencePhotoUrl",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "qtyCompleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/resume": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Leader tiếp tục công đoạn",
        "operationId": "leaderResume",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "leaderUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/redo": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Redo Stage (minor fail)",
        "operationId": "redoStage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/pause": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Leader tạm dừng công đoạn",
        "operationId": "leaderPause",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "leaderUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pauseReason",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pauseNotes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/complete": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Leader hoàn thành công đoạn",
        "operationId": "leaderComplete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "leaderUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "evidencePhotoUrl",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "qtyCompleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/assign-leader": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Phân công leader cho Stage",
        "operationId": "assignLeader",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "leaderUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/{id}/assign-kcs": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Phân công QC cho Stage",
        "operationId": "assignKcs",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "kcsUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/plans/{planId}/create-order": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Create production order from approved plan",
        "description": "Create production order from an approved production plan",
        "operationId": "createOrderFromApprovedPlan",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "listPO",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionOrderDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo Production Order",
        "operationId": "createPO",
        "requestBody": {
          "description": "Payload tạo PO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionOrderDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{poId}/work-orders/create-standard": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo Work Order chuẩn từ PO",
        "operationId": "createStandardWo",
        "parameters": [
          {
            "name": "poId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "createdById",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{id}/submit-approval": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Gửi lệnh sản xuất để duyệt",
        "description": "Planning Department gửi lệnh sản xuất để Director duyệt",
        "operationId": "submitForApproval_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{id}/reject": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Từ chối lệnh sản xuất",
        "description": "Director từ chối lệnh sản xuất",
        "operationId": "rejectProductionOrder",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "directorId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "rejectionNotes",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{id}/assign-technician": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "PM phân công kỹ thuật viên cho PO",
        "operationId": "assignTechnician",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "technicianUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{id}/approve": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Duyệt lệnh sản xuất",
        "description": "Director duyệt lệnh sản xuất",
        "operationId": "approveProductionOrder",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "directorId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/create-from-contract": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Tạo lệnh sản xuất từ hợp đồng",
        "description": "Planning Department tạo lệnh sản xuất từ hợp đồng đã duyệt",
        "operationId": "createFromContract",
        "parameters": [
          {
            "name": "contractId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "planningUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "plannedStartDate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "plannedEndDate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/order-details": {
      "post": {
        "tags": [
          "Production"
        ],
        "summary": "Thêm chi tiết PO",
        "operationId": "createPODetail",
        "requestBody": {
          "description": "Payload tạo chi tiết PO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionOrderDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionOrderDetailDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/material-stock": {
      "get": {
        "tags": [
          "Material Stock Management"
        ],
        "summary": "Danh sách nhập kho nguyên liệu",
        "description": "Lấy danh sách nhập kho nguyên liệu với pagination, search và filter theo ngày nhập",
        "operationId": "list_2",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo tên nguyên liệu, mã nguyên liệu",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "receivedDate",
            "in": "query",
            "description": "Lọc theo ngày nhập hàng (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseMaterialStockDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Material Stock Management"
        ],
        "summary": "Tạo nhập kho nguyên liệu mới",
        "description": "Production Manager tạo bản ghi nhập kho nguyên liệu mới",
        "operationId": "create_3",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialStockDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialStockDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy danh sách tất cả kế hoạch sản xuất",
        "description": "Lấy danh sách tất cả kế hoạch sản xuất trong hệ thống, bao gồm cả thông tin chi tiết về hợp đồng, sản phẩm và trạng thái",
        "operationId": "getAllPlans",
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch sản xuất",
            "content": {
              "application/json": {
                "example": [
                  {
                    "id": 1,
                    "planCode": "PP-2025-001",
                    "status": "DRAFT",
                    "contractNumber": "ORD-101",
                    "customerName": "Công ty ABC",
                    "createdByName": "Nguyễn Văn A",
                    "createdAt": "2025-10-26T09:45:00Z"
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Tạo kế hoạch sản xuất từ hợp đồng",
        "description": "Tạo kế hoạch sản xuất mới dựa trên hợp đồng đã được phê duyệt. Hệ thống sẽ tự động tạo các công đoạn sản xuất và tính toán nguyên vật liệu cần thiết",
        "operationId": "createPlanFromContract",
        "requestBody": {
          "description": "Thông tin tạo kế hoạch sản xuất",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductionPlanRequest"
              },
              "example": {
                "contractId": 1,
                "notes": "Kế hoạch sản xuất cho đơn hàng khăn mặt cao cấp"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Dữ liệu đầu vào không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy hợp đồng",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "201": {
            "description": "Thành công - Kế hoạch sản xuất đã được tạo",
            "content": {
              "application/json": {
                "example": {
                  "id": 1,
                  "planCode": "PP-2025-001",
                  "status": "DRAFT",
                  "contractNumber": "ORD-101",
                  "customerName": "Công ty ABC",
                  "message": "Kế hoạch sản xuất đã được tạo thành công"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/stages/{stageId}/auto-assign-machine": {
      "post": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Tự động gán máy móc cho công đoạn sản xuất",
        "description": "Chọn máy có điểm số cao nhất cho stage",
        "operationId": "autoAssignMachineToStage",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "description": "ID của công đoạn sản xuất cần gán máy",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/create-from-lot": {
      "post": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Tạo kế hoạch từ Lot",
        "description": "Tạo bản kế hoạch DRAFT và lock Lot sang PLANNING",
        "operationId": "createFromLot",
        "parameters": [
          {
            "name": "lotId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/product-categories": {
      "get": {
        "tags": [
          "product-category-controller"
        ],
        "operationId": "list_3",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductCategoryDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "product-category-controller"
        ],
        "summary": "Tạo danh mục sản phẩm",
        "operationId": "create_4",
        "requestBody": {
          "description": "Payload tạo danh mục",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductCategoryDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments": {
      "post": {
        "tags": [
          "payment-controller"
        ],
        "summary": "Ghi nhận thanh toán",
        "operationId": "createPayment",
        "requestBody": {
          "description": "Payload tạo thanh toán",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/terms": {
      "post": {
        "tags": [
          "payment-controller"
        ],
        "summary": "Tạo điều khoản thanh toán",
        "operationId": "createTerm",
        "requestBody": {
          "description": "Payload tạo điều khoản",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentTermDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentTermDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/material-consumption/production-plan/{planId}/create-requisition": {
      "post": {
        "tags": [
          "Tính toán Nguyên vật liệu & Lập kế hoạch"
        ],
        "summary": "Create material requisition from production plan",
        "description": "Automatically create material requisition based on production plan material consumption",
        "operationId": "createMaterialRequisitionFromPlan",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "description": "ID of the production plan",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "createdById",
            "in": "query",
            "description": "ID of the user creating the requisition",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully created material requisition",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Insufficient material availability",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Production plan not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines": {
      "get": {
        "tags": [
          "machine-controller"
        ],
        "operationId": "list_4",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseMachineDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "machine-controller"
        ],
        "summary": "Tạo máy",
        "operationId": "create_5",
        "requestBody": {
          "description": "Payload tạo máy",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/maintenances": {
      "post": {
        "tags": [
          "machine-ops-controller"
        ],
        "summary": "Tạo maintenance",
        "operationId": "createMaintenance",
        "requestBody": {
          "description": "Payload maintenance",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineMaintenanceDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMaintenanceDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/assignments": {
      "post": {
        "tags": [
          "machine-ops-controller"
        ],
        "summary": "Gán máy cho stage",
        "operationId": "createAssignment",
        "requestBody": {
          "description": "Payload gán máy",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineAssignmentDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineAssignmentDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/assignments/{id}/release": {
      "post": {
        "tags": [
          "machine-ops-controller"
        ],
        "summary": "Release assignment",
        "operationId": "releaseAssignment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "releasedAt",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineAssignmentDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machine-selection/suggest-machines": {
      "post": {
        "tags": [
          "Lựa chọn Máy móc Thông minh"
        ],
        "summary": "Get machine suggestions for production plan stage",
        "description": "Get intelligent machine suggestions when creating or updating a production plan stage",
        "operationId": "suggestMachinesForStage",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MachineSuggestionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineSuggestionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/material-transactions": {
      "post": {
        "tags": [
          "inventory-controller"
        ],
        "summary": "Create material transaction",
        "operationId": "createMaterialTxn",
        "requestBody": {
          "description": "Payload transaction",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialTransactionDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialTransactionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/material-stock": {
      "post": {
        "tags": [
          "inventory-controller"
        ],
        "summary": "Upsert material stock",
        "operationId": "upsertMaterialStock",
        "requestBody": {
          "description": "Payload stock",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialStockDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialStockDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/fg-transactions": {
      "post": {
        "tags": [
          "inventory-controller"
        ],
        "summary": "Create FG transaction",
        "operationId": "createFgTxn",
        "requestBody": {
          "description": "Payload FG txn",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinishedGoodsTransactionDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FinishedGoodsTransactionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/fg-stock": {
      "post": {
        "tags": [
          "inventory-controller"
        ],
        "summary": "Upsert FG stock",
        "operationId": "upsertFgStock",
        "requestBody": {
          "description": "Payload FG stock",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinishedGoodsStockDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FinishedGoodsStockDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/trackings": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Ghi nhận event Stage",
        "operationId": "createTracking",
        "requestBody": {
          "description": "Payload event Stage",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageTrackingDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageTrackingDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/requisitions": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Tạo phiếu lĩnh vật tư",
        "operationId": "createReq",
        "requestBody": {
          "description": "Payload tạo phiếu lĩnh",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialRequisitionDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/requisition-details": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Thêm dòng vật tư cho phiếu lĩnh",
        "operationId": "createReqDetail",
        "requestBody": {
          "description": "Payload thêm dòng vật tư",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/pauses": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Tạo/cập nhật Pause Log",
        "operationId": "createPause",
        "requestBody": {
          "description": "Payload tạo pause",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StagePauseLogDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StagePauseLogDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/outsourcing": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Tạo công việc gia công ngoài",
        "operationId": "createOutsourcing",
        "requestBody": {
          "description": "Payload gia công ngoài",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutsourcingTaskDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OutsourcingTaskDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/losses": {
      "post": {
        "tags": [
          "execution-controller"
        ],
        "summary": "Ghi nhận thất thoát",
        "operationId": "createLoss",
        "requestBody": {
          "description": "Payload thất thoát",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductionLossDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionLossDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/customers": {
      "get": {
        "tags": [
          "customer-controller"
        ],
        "operationId": "list_5",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo tên công ty, người liên hệ, email, số điện thoại, mã số thuế",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "Lọc theo trạng thái (true/false)",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseCustomerDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "customer-controller"
        ],
        "summary": "Tạo khách hàng",
        "operationId": "create_6",
        "requestBody": {
          "description": "Payload tạo khách hàng",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "operationId": "list_6",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã hợp đồng hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "deliveryDate",
            "in": "query",
            "description": "Lọc theo ngày giao hàng (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseContractDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Tạo hợp đồng",
        "operationId": "create_7",
        "requestBody": {
          "description": "Payload tạo hợp đồng",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContractDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/upload-signed": {
      "post": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Upload hợp đồng đã ký",
        "description": "Sale Staff upload bản hợp đồng đã ký lên hệ thống",
        "operationId": "uploadSignedContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "saleUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "File hợp đồng đã ký",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "400": {
            "description": "File không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy hợp đồng",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          },
          "200": {
            "description": "Upload thành công",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/reject": {
      "post": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Từ chối hợp đồng",
        "description": "Director từ chối hợp đồng",
        "operationId": "rejectContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "directorId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "rejectionNotes",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/re-upload": {
      "post": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Re-upload hợp đồng",
        "description": "Sale Staff upload lại hợp đồng sau khi bị từ chối",
        "operationId": "reUploadContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "saleUserId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "File hợp đồng đã ký",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/approve": {
      "post": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Duyệt hợp đồng",
        "description": "Director duyệt hợp đồng",
        "operationId": "approveContract",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "directorId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "notes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/verify-reset-code": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "verifyResetCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyResetCodeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/user/login": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "userLogin",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/forgot-password": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "forgotPassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/verify-reset-code": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "customerVerifyResetCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyResetCodeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/login": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "customerPasswordLogin",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/forgot-password": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "customerForgotPassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/create-company": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "createCompany",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/change-password": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "customerChangePassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/change-password": {
      "post": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "changePassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": [
          "user-controller"
        ],
        "operationId": "getAll",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleName",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseUserDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "user-controller"
        ],
        "summary": "Tạo user mới",
        "operationId": "create_8",
        "requestBody": {
          "description": "Payload tạo user",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/sales-edit": {
      "patch": {
        "tags": [
          "RFQ"
        ],
        "summary": "Sales chỉnh sửa RFQ và thông tin khách (trước Preliminary Check)",
        "description": "Chỉ cho phép khi RFQ chưa PRELIMINARY_CHECKED. Cập nhật các trường cơ bản của RFQ và Customer (tên, email, phone, địa chỉ, ghi chú)",
        "operationId": "salesEditRfqAndCustomer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Payload chỉnh sửa RFQ + Customer",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRfqEditRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/customers/{id}/active": {
      "patch": {
        "tags": [
          "customer-controller"
        ],
        "operationId": "setActive",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "value",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/users/{id}/active": {
      "patch": {
        "tags": [
          "admin-user-controller"
        ],
        "operationId": "setActive_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "value",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/users/{userId}/notifications": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "listNotifications",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NotificationDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/notifications/{id}": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "getNotification",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "system-controller"
        ],
        "operationId": "deleteNotification",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/system/audit-logs/{id}": {
      "get": {
        "tags": [
          "system-controller"
        ],
        "operationId": "getAuditLog",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuditLogDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/roles/name/{name}": {
      "get": {
        "tags": [
          "role-controller"
        ],
        "operationId": "getRoleByName",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RoleDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/{id}/for-sales": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Lấy RFQ cho Sales được giao",
        "description": "Chỉ Sales được gán vào RFQ mới có thể xem chi tiết thông qua endpoint này",
        "operationId": "getForSales",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID RFQ",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/for-sales": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Danh sách RFQ được gán cho Sales",
        "description": "Trả về danh sách RFQ mà Sales (header X-User-Id) được gán vào",
        "operationId": "listForSales",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã RFQ hoặc người liên hệ",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseRfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rfqs/drafts/unassigned": {
      "get": {
        "tags": [
          "RFQ"
        ],
        "summary": "Danh sách RFQ DRAFT chưa được gán",
        "description": "Trả về danh sách RFQ ở trạng thái DRAFT mà Sales chưa được gán. Dành cho Director để phân công.",
        "operationId": "listDraftsUnassigned",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseRfqDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/file-url": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Lấy URL file báo giá",
        "description": "Lấy URL để download file báo giá đã ký",
        "operationId": "getQuotationFileUrl",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID báo giá",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/{id}/download": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Download báo giá đã ký",
        "description": "Tải trực tiếp file báo giá đã ký",
        "operationId": "downloadSignedQuotation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID báo giá",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "byte"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/pending": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Lấy báo giá chờ gửi",
        "description": "Sale Staff lấy danh sách báo giá đã tạo, chờ gửi cho khách hàng. Nếu header X-User-Id được cung cấp thì chỉ trả về báo giá được gán cho Sales đó.",
        "operationId": "getPendingQuotations",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QuotationDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/for-sales": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Danh sách báo giá theo Sales được phân công",
        "description": "Trả về danh sách báo giá mà Sales (header X-User-Id) được gán vào",
        "operationId": "listForSales_1",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã báo giá hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseQuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/for-planning": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Danh sách báo giá theo Planning được phân công",
        "description": "Trả về danh sách báo giá mà Planning (header X-User-Id) được gán vào",
        "operationId": "listForPlanning",
        "parameters": [
          {
            "name": "X-User-Id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã báo giá hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseQuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quotations/customer/{customerId}": {
      "get": {
        "tags": [
          "quotation-controller"
        ],
        "summary": "Lấy báo giá của khách hàng",
        "description": "Customer lấy danh sách báo giá của mình",
        "operationId": "getCustomerQuotations",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "description": "ID Customer",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã báo giá",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sắp xếp theo trường (createdAt, validUntil)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Thứ tự sắp xếp (asc, desc)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc"
            }
          },
          {
            "name": "selectedDate",
            "in": "query",
            "description": "Chọn ngày để sắp xếp theo khoảng cách (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseQuotationDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/stages/{stageId}/inspections": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "listInspections",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QcInspectionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/photos/{id}": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "getPhoto",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QcPhotoDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "deletePhoto",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/qc/inspections/{inspectionId}/photos": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "listPhotos",
        "parameters": [
          {
            "name": "inspectionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QcPhotoDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/qc/inspections/{inspectionId}/defects": {
      "get": {
        "tags": [
          "qc-controller"
        ],
        "operationId": "listDefects",
        "parameters": [
          {
            "name": "inspectionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QcDefectDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/{productId}/boms": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "listBoms",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BomDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/boms/{bomId}/details": {
      "get": {
        "tags": [
          "product-controller"
        ],
        "operationId": "listBomDetails",
        "parameters": [
          {
            "name": "bomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BomDetailDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-orders/{woId}/details": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "listWODetails",
        "parameters": [
          {
            "name": "woId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WorkOrderDetailDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/work-order-details/{woDetailId}/stages": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "listStages",
        "parameters": [
          {
            "name": "woDetailId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionStageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/qr/{token}": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "Resolve Stage by QR token",
        "description": "KCS quét QR để lấy stage + checklist",
        "operationId": "getStageByQr",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionStageDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/for-leader": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "List stages for Leader",
        "operationId": "listForLeader",
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionStageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/stages/for-kcs": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "List stages for KCS",
        "operationId": "listForKcs",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionStageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/plans/pending-approval": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "Get production plans pending approval",
        "description": "Retrieve all production plans waiting for director approval",
        "operationId": "getProductionPlansPendingApproval",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{poId}/work-orders": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "listWOs",
        "parameters": [
          {
            "name": "poId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WorkOrderDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/{poId}/details": {
      "get": {
        "tags": [
          "Production"
        ],
        "operationId": "listPODetails",
        "parameters": [
          {
            "name": "poId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionOrderDetailDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/pending-approval": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "Lấy lệnh sản xuất chờ duyệt",
        "description": "Lấy danh sách lệnh sản xuất đang chờ duyệt",
        "operationId": "getProductionOrdersPendingApproval",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionOrderDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/orders/director/pending": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "Lấy lệnh sản xuất chờ duyệt (Director)",
        "description": "Director lấy danh sách lệnh sản xuất chờ duyệt",
        "operationId": "getDirectorPendingProductionOrders",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionOrderDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production/contracts/{contractId}/plans": {
      "get": {
        "tags": [
          "Production"
        ],
        "summary": "Get production plans for contract",
        "description": "Retrieve all production plans for a specific contract",
        "operationId": "getProductionPlansForContract",
        "parameters": [
          {
            "name": "contractId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/{planId}/stages": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Danh sách công đoạn của kế hoạch",
        "description": "Lấy tất cả stage theo planId phục vụ hiển thị form lập kế hoạch",
        "operationId": "listStages_1",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanStageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/{id}": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy chi tiết kế hoạch sản xuất theo ID",
        "description": "Lấy thông tin chi tiết của một kế hoạch sản xuất cụ thể, bao gồm tất cả các công đoạn, máy móc được gán và nguyên vật liệu cần thiết",
        "operationId": "getPlanById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID của kế hoạch sản xuất cần lấy",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất với ID này",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionPlanDto"
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về chi tiết kế hoạch sản xuất",
            "content": {
              "application/json": {
                "example": {
                  "id": 1,
                  "planCode": "PP-2025-001",
                  "status": "DRAFT",
                  "contractNumber": "ORD-101",
                  "customerName": "Công ty ABC",
                  "details": [
                    {
                      "productName": "Khăn mặt Bamboo cao cấp",
                      "plannedQuantity": 1000,
                      "stages": [
                        {
                          "stageType": "WARPING",
                          "assignedMachineName": "Máy cuộn mắc 01",
                          "plannedStartTime": "2025-10-28T08:00:00",
                          "plannedEndTime": "2025-10-28T12:00:00"
                        }
                      ]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/status/{status}": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy kế hoạch sản xuất theo trạng thái",
        "description": "Lấy danh sách kế hoạch sản xuất được lọc theo trạng thái cụ thể. Các trạng thái có thể: DRAFT (Nháp), PENDING_APPROVAL (Chờ duyệt), APPROVED (Đã duyệt), REJECTED (Từ chối)",
        "operationId": "getPlansByStatus",
        "parameters": [
          {
            "name": "status",
            "in": "path",
            "description": "Trạng thái kế hoạch sản xuất",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "DRAFT",
                "PENDING_APPROVAL",
                "APPROVED",
                "REJECTED"
              ]
            },
            "example": "DRAFT"
          }
        ],
        "responses": {
          "400": {
            "description": "Trạng thái không hợp lệ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch sản xuất theo trạng thái",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/stages/{stageId}/machine-suggestions": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy gợi ý máy móc cho công đoạn sản xuất",
        "description": "Gợi ý máy móc theo stageId với phân tích khả dụng và công suất",
        "operationId": "getMachineSuggestionsForStage",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "description": "ID của công đoạn sản xuất",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Thành công - Trả về danh sách gợi ý máy móc",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineSuggestionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/stages/{stageId}/check-conflicts": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Kiểm tra xung đột lịch trình cho công đoạn sản xuất",
        "description": "Trả về danh sách xung đột (nếu có) cho stage",
        "operationId": "checkStageScheduleConflicts",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "description": "ID của công đoạn sản xuất cần kiểm tra",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/pending-approval": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy kế hoạch sản xuất chờ duyệt",
        "description": "Lấy danh sách tất cả kế hoạch sản xuất đang chờ giám đốc phê duyệt. Chỉ hiển thị các kế hoạch có trạng thái PENDING_APPROVAL",
        "operationId": "getPendingApprovalPlans",
        "responses": {
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch chờ duyệt",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/creator/{userId}": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy kế hoạch sản xuất theo người tạo",
        "description": "Lấy danh sách tất cả kế hoạch sản xuất được tạo bởi một người dùng cụ thể",
        "operationId": "getPlansByCreator",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "ID của người dùng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "404": {
            "description": "Không tìm thấy người dùng",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch sản xuất của người dùng",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/contract/{contractId}": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy kế hoạch sản xuất theo hợp đồng",
        "description": "Lấy danh sách tất cả kế hoạch sản xuất được tạo từ một hợp đồng cụ thể",
        "operationId": "getPlansByContract",
        "parameters": [
          {
            "name": "contractId",
            "in": "path",
            "description": "ID của hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy hợp đồng",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch sản xuất của hợp đồng",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-plans/approved-not-converted": {
      "get": {
        "tags": [
          "Quản lý Kế hoạch Sản xuất"
        ],
        "summary": "Lấy kế hoạch đã duyệt chưa chuyển đổi",
        "description": "Lấy danh sách kế hoạch sản xuất đã được phê duyệt nhưng chưa được chuyển đổi thành Production Order",
        "operationId": "getApprovedPlansNotConverted",
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Trả về danh sách kế hoạch đã duyệt chưa chuyển đổi",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionPlanDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-lots": {
      "get": {
        "tags": [
          "Production Lots"
        ],
        "summary": "Lấy danh sách lot",
        "description": "Filter theo status nếu truyền, ví dụ READY_FOR_PLANNING",
        "operationId": "list_7",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionLotDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-lots/{id}": {
      "get": {
        "tags": [
          "Production Lots"
        ],
        "summary": "Lấy chi tiết một lot",
        "description": "Trả về thông tin lot, danh sách đơn liên quan và trạng thái kế hoạch hiện tại",
        "operationId": "get_7",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductionLotDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/production-lots/{id}/contracts": {
      "get": {
        "tags": [
          "Production Lots"
        ],
        "summary": "Lấy danh sách hợp đồng đã merge",
        "description": "Trả về chi tiết các contract nằm trong lot với số lượng đã phân bổ",
        "operationId": "mergedContracts",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionLotContractDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/contracts/{contractId}": {
      "get": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "listPayments",
        "parameters": [
          {
            "name": "contractId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PaymentDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/contracts/{contractId}/terms": {
      "get": {
        "tags": [
          "payment-controller"
        ],
        "operationId": "listTerms",
        "parameters": [
          {
            "name": "contractId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PaymentTermDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/material-consumption/production-plan/{planId}": {
      "get": {
        "tags": [
          "Tính toán Nguyên vật liệu & Lập kế hoạch"
        ],
        "summary": "Tính toán tiêu hao nguyên vật liệu cho kế hoạch sản xuất",
        "description": "Tính toán chi tiết tiêu hao nguyên vật liệu dựa trên BOM (Bill of Materials) cho một kế hoạch sản xuất. Bao gồm tính toán hao hụt mặc định 10%",
        "operationId": "calculateMaterialConsumption",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "description": "ID của kế hoạch sản xuất",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialConsumptionResult"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialConsumptionResult"
                }
              }
            }
          },
          "200": {
            "description": "Thành công - Đã tính toán tiêu hao nguyên vật liệu",
            "content": {
              "application/json": {
                "example": {
                  "planId": 1,
                  "planCode": "PP-2025-001",
                  "totalProducts": 2,
                  "wastePercentage": 0.1,
                  "totalMaterialValue": 5000000,
                  "totalBasicQuantity": 200,
                  "totalWasteAmount": 20,
                  "productConsumptions": [
                    {
                      "productName": "Khăn mặt Bamboo",
                      "plannedQuantity": 1000,
                      "materialDetails": [
                        {
                          "materialName": "Sợi Bamboo",
                          "materialCode": "BAM-001",
                          "unit": "kg",
                          "basicQuantityRequired": 100,
                          "wasteAmount": 10,
                          "totalQuantityRequired": 110,
                          "unitPrice": 50000,
                          "totalValue": 5500000
                        }
                      ]
                    }
                  ],
                  "materialSummaries": [
                    {
                      "materialName": "Sợi Bamboo",
                      "materialCode": "BAM-001",
                      "unit": "kg",
                      "totalBasicQuantity": 200,
                      "totalWasteAmount": 20,
                      "totalQuantityRequired": 220,
                      "unitPrice": 50000,
                      "totalValue": 11000000
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v1/material-consumption/production-plan/{planId}/with-waste": {
      "get": {
        "tags": [
          "Tính toán Nguyên vật liệu & Lập kế hoạch"
        ],
        "summary": "Tính toán tiêu hao nguyên vật liệu với tỷ lệ hao hụt tùy chỉnh",
        "description": "Tính toán tiêu hao nguyên vật liệu với tỷ lệ hao hụt tùy chỉnh cho kế hoạch sản xuất. Cho phép điều chỉnh tỷ lệ hao hụt từ 0% đến 50%",
        "operationId": "calculateMaterialConsumptionWithWaste",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "description": "ID của kế hoạch sản xuất",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "wastePercentage",
            "in": "query",
            "description": "Tỷ lệ hao hụt (0.05 = 5%, 0.10 = 10%, 0.15 = 15%)",
            "required": true,
            "schema": {
              "type": "number"
            },
            "example": 0.15
          }
        ],
        "responses": {
          "200": {
            "description": "Thành công - Đã tính toán tiêu hao nguyên vật liệu với hao hụt tùy chỉnh",
            "content": {
              "application/json": {
                "example": {
                  "planId": 1,
                  "planCode": "PP-2025-001",
                  "totalProducts": 2,
                  "wastePercentage": 0.15,
                  "totalMaterialValue": 5750000,
                  "totalBasicQuantity": 200,
                  "totalWasteAmount": 30,
                  "message": "Tính toán với tỷ lệ hao hụt 15%"
                }
              }
            }
          },
          "500": {
            "description": "Lỗi server nội bộ",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialConsumptionResult"
                }
              }
            }
          },
          "400": {
            "description": "Tỷ lệ hao hụt không hợp lệ (phải từ 0% đến 50%)",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialConsumptionResult"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy kế hoạch sản xuất",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialConsumptionResult"
                }
              }
            }
          }
        }
      }
    },
    "/v1/material-consumption/production-plan/{planId}/availability": {
      "get": {
        "tags": [
          "Tính toán Nguyên vật liệu & Lập kế hoạch"
        ],
        "summary": "Check material availability for production plan",
        "description": "Check if all required materials are available for a production plan",
        "operationId": "checkMaterialAvailability",
        "parameters": [
          {
            "name": "planId",
            "in": "path",
            "description": "ID of the production plan",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully checked material availability",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialAvailabilityResult"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialAvailabilityResult"
                }
              }
            }
          },
          "404": {
            "description": "Production plan not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialAvailabilityResult"
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/{machineId}/maintenances": {
      "get": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "listMaintenances",
        "parameters": [
          {
            "name": "machineId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineMaintenanceDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/{machineId}/assignments": {
      "get": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "listAssignmentsByMachine",
        "parameters": [
          {
            "name": "machineId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineAssignmentDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/stages/{stageId}/assignments": {
      "get": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "listAssignmentsByStage",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineAssignmentDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/machines/assignments/{id}": {
      "get": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "getAssignment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineAssignmentDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "machine-ops-controller"
        ],
        "operationId": "deleteAssignment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/machine-selection/suitable-machines": {
      "get": {
        "tags": [
          "Lựa chọn Máy móc Thông minh"
        ],
        "summary": "Lấy danh sách máy móc phù hợp cho công đoạn sản xuất",
        "description": "Lấy danh sách máy móc phù hợp cho một công đoạn sản xuất cụ thể với phân tích khả dụng và công suất. Hệ thống sẽ tự động tính toán và xếp hạng các máy theo độ phù hợp",
        "operationId": "getSuitableMachines",
        "parameters": [
          {
            "name": "stageType",
            "in": "query",
            "description": "Loại công đoạn sản xuất",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "WARPING",
                "WEAVING",
                "DYEING",
                "CUTTING",
                "SEWING",
                "PACKAGING"
              ]
            },
            "example": "WARPING"
          },
          {
            "name": "productId",
            "in": "query",
            "description": "ID của sản phẩm",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "example": 1
          },
          {
            "name": "requiredQuantity",
            "in": "query",
            "description": "Số lượng sản phẩm cần sản xuất",
            "required": true,
            "schema": {
              "type": "number"
            },
            "example": 1000
          },
          {
            "name": "preferredStartTime",
            "in": "query",
            "description": "Thời gian bắt đầu mong muốn (tùy chọn)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-10-28T08:00:00"
          },
          {
            "name": "preferredEndTime",
            "in": "query",
            "description": "Thời gian kết thúc mong muốn (tùy chọn)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-10-28T17:00:00"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MachineSuggestionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/machine-selection/check-availability": {
      "get": {
        "tags": [
          "Lựa chọn Máy móc Thông minh"
        ],
        "summary": "Check machine availability",
        "description": "Check if a specific machine is available during a time period",
        "operationId": "checkMachineAvailability",
        "parameters": [
          {
            "name": "machineId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "startTime",
            "in": "query",
            "description": "Thời gian bắt đầu",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2025-09-16 08:00"
          },
          {
            "name": "endTime",
            "in": "query",
            "description": "Thời gian kết thúc",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "17/09/2025 17:00"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MachineAvailabilityResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/products/{productId}/transactions": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "listFgTxns",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FinishedGoodsTransactionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/products/{productId}/stock": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "listFgStock",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FinishedGoodsStockDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/materials/{materialId}/transactions": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "listMaterialTxns",
        "parameters": [
          {
            "name": "materialId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MaterialTransactionDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/materials/{materialId}/stock": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "listMaterialStock",
        "parameters": [
          {
            "name": "materialId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MaterialStockDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/material-transactions/{id}": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "getMaterialTxn",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialTransactionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/material-stock/{id}": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "getMaterialStock",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialStockDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "deleteMaterialStock",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/inventory/fg-transactions/{id}": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "getFgTxn",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FinishedGoodsTransactionDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inventory/fg-stock/{id}": {
      "get": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "getFgStock",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FinishedGoodsStockDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "inventory-controller"
        ],
        "operationId": "deleteFgStock",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/trackings/{id}": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "getTracking",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StageTrackingDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "deleteTracking",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/v1/execution/stages/{stageId}/trackings": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "listTrackings",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StageTrackingDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/stages/{stageId}/pauses": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "listPauses",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StagePauseLogDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/stages/{stageId}/outsourcing": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "listOutsourcing",
        "parameters": [
          {
            "name": "stageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OutsourcingTaskDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/requisitions/{reqId}/details": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "listReqDetails",
        "parameters": [
          {
            "name": "reqId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/execution/orders/{poId}/losses": {
      "get": {
        "tags": [
          "execution-controller"
        ],
        "operationId": "listLosses",
        "parameters": [
          {
            "name": "poId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductionLossDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/order-details": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Lấy chi tiết đơn hàng",
        "description": "Lấy thông tin chi tiết đơn hàng bao gồm thông tin khách hàng và danh sách sản phẩm",
        "operationId": "getOrderDetails",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OrderDetailsDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/file-url": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Lấy URL file hợp đồng",
        "description": "Lấy URL để download file hợp đồng",
        "operationId": "getContractFileUrl",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/{id}/download": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Download file hợp đồng",
        "description": "Download file hợp đồng trực tiếp",
        "operationId": "downloadContractFile",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID hợp đồng",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "byte"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/test-minio": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Test MinIO connection",
        "operationId": "testMinIO",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/pending-approval": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Lấy hợp đồng chờ duyệt",
        "description": "Lấy danh sách hợp đồng đang chờ duyệt",
        "operationId": "getContractsPendingApproval",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã hợp đồng hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "deliveryDate",
            "in": "query",
            "description": "Lọc theo ngày giao hàng (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/director/pending": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Lấy hợp đồng chờ duyệt (Director)",
        "description": "Director lấy danh sách hợp đồng chờ duyệt",
        "operationId": "getDirectorPendingContracts",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Số trang (bắt đầu từ 0)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Số lượng bản ghi mỗi trang",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Tìm kiếm theo mã hợp đồng hoặc tên khách hàng",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Lọc theo trạng thái",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "createdDate",
            "in": "query",
            "description": "Lọc theo ngày tạo (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "deliveryDate",
            "in": "query",
            "description": "Lọc theo ngày giao hàng (yyyy-MM-dd)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageResponseContractDto"
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/assigned/sales/{userId}": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Danh sách hợp đồng theo Sales được phân công",
        "operationId": "getByAssignedSales",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContractDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/contracts/assigned/planning/{userId}": {
      "get": {
        "tags": [
          "contract-controller"
        ],
        "summary": "Danh sách hợp đồng theo Planning được phân công",
        "operationId": "getByAssignedPlanning",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContractDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/verify": {
      "get": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "verifyCustomerEmail",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/customer/profile": {
      "get": {
        "tags": [
          "auth-controller"
        ],
        "operationId": "getCustomerProfile",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/users": {
      "get": {
        "tags": [
          "admin-user-controller"
        ],
        "operationId": "all",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/files/{filename}": {
      "get": {
        "tags": [
          "file-controller"
        ],
        "summary": "Serve stored file by filename",
        "operationId": "getFile",
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "description": "Tên file",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "byte"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ReportTemplateDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "templateName": {
            "type": "string"
          },
          "reportType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "sqlQuery": {
            "type": "string"
          },
          "parameters": {
            "type": "string"
          },
          "chartConfig": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "RoleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "RfqDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "noteColor": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "RfqDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "rfqNumber": {
            "type": "string"
          },
          "customerId": {
            "type": "integer",
            "format": "int64"
          },
          "sourceType": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "isSent": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "assignedSalesId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedPlanningId": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "approvalDate": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetailDto"
            }
          },
          "contactPerson": {
            "type": "string"
          },
          "contactEmail": {
            "type": "string"
          },
          "contactPhone": {
            "type": "string"
          },
          "contactAddress": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          }
        }
      },
      "QuotationDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "unitPrice": {
            "type": "number"
          },
          "totalPrice": {
            "type": "number"
          },
          "noteColor": {
            "type": "string"
          },
          "discountPercentage": {
            "type": "number"
          }
        }
      },
      "QuotationDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "quotationNumber": {
            "type": "string"
          },
          "rfqId": {
            "type": "integer",
            "format": "int64"
          },
          "customerId": {
            "type": "integer",
            "format": "int64"
          },
          "validUntil": {
            "type": "string",
            "format": "date"
          },
          "totalAmount": {
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "isAccepted": {
            "type": "boolean"
          },
          "isCanceled": {
            "type": "boolean"
          },
          "capacityCheckedById": {
            "type": "integer",
            "format": "int64"
          },
          "capacityCheckedAt": {
            "type": "string",
            "format": "date-time"
          },
          "capacityCheckNotes": {
            "type": "string"
          },
          "assignedSalesId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedPlanningId": {
            "type": "integer",
            "format": "int64"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "sentAt": {
            "type": "string",
            "format": "date-time"
          },
          "filePath": {
            "type": "string"
          },
          "contactPersonSnapshot": {
            "type": "string"
          },
          "contactEmailSnapshot": {
            "type": "string"
          },
          "contactPhoneSnapshot": {
            "type": "string"
          },
          "contactAddressSnapshot": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuotationDetailDto"
            }
          }
        }
      },
      "QcStandardDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "standardName": {
            "type": "string"
          },
          "standardCode": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "applicableStages": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "QcInspectionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "qcCheckpointId": {
            "type": "integer",
            "format": "int64"
          },
          "inspectorId": {
            "type": "integer",
            "format": "int64"
          },
          "sampleSize": {
            "type": "integer",
            "format": "int32"
          },
          "passCount": {
            "type": "integer",
            "format": "int32"
          },
          "failCount": {
            "type": "integer",
            "format": "int32"
          },
          "result": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "inspectedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "QcDefectDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "qcInspectionId": {
            "type": "integer",
            "format": "int64"
          },
          "defectType": {
            "type": "string"
          },
          "defectDescription": {
            "type": "string"
          },
          "quantityAffected": {
            "type": "number"
          },
          "severity": {
            "type": "string"
          },
          "actionTaken": {
            "type": "string"
          }
        }
      },
      "QcCheckpointDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "stageType": {
            "type": "string"
          },
          "checkpointName": {
            "type": "string"
          },
          "inspectionCriteria": {
            "type": "string"
          },
          "samplingPlan": {
            "type": "string"
          },
          "isMandatory": {
            "type": "boolean"
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "categoryId": {
            "type": "integer",
            "format": "int64"
          },
          "unit": {
            "type": "string"
          },
          "standardWeight": {
            "type": "number"
          },
          "standardDimensions": {
            "type": "string"
          },
          "basePrice": {
            "type": "number"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MaterialDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "reorderPoint": {
            "type": "number"
          },
          "standardCost": {
            "type": "number"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "BomDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bomId": {
            "type": "integer",
            "format": "int64"
          },
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "stage": {
            "type": "string"
          },
          "isOptional": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "BomDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "version": {
            "type": "string"
          },
          "versionNotes": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "effectiveDate": {
            "type": "string",
            "format": "date"
          },
          "obsoleteDate": {
            "type": "string",
            "format": "date"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BomDetailDto"
            }
          }
        }
      },
      "WorkOrderDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "workOrderId": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrderDetailId": {
            "type": "integer",
            "format": "int64"
          },
          "stageSequence": {
            "type": "integer",
            "format": "int32"
          },
          "plannedStartAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndAt": {
            "type": "string",
            "format": "date-time"
          },
          "startAt": {
            "type": "string",
            "format": "date-time"
          },
          "completeAt": {
            "type": "string",
            "format": "date-time"
          },
          "workStatus": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "WorkOrderDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrderId": {
            "type": "integer",
            "format": "int64"
          },
          "woNumber": {
            "type": "string"
          },
          "deadline": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "sendStatus": {
            "type": "string"
          },
          "isProduction": {
            "type": "boolean"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WorkOrderDetailDto"
            }
          }
        }
      },
      "TechnicalSheetDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrderId": {
            "type": "integer",
            "format": "int64"
          },
          "sheetNumber": {
            "type": "string"
          },
          "yarnSpecifications": {
            "type": "string"
          },
          "machineSettings": {
            "type": "string"
          },
          "qualityStandards": {
            "type": "string"
          },
          "specialInstructions": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductionStageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "workOrderDetailId": {
            "type": "integer",
            "format": "int64"
          },
          "stageType": {
            "type": "string"
          },
          "stageSequence": {
            "type": "integer",
            "format": "int32"
          },
          "machineId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedToId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedLeaderId": {
            "type": "integer",
            "format": "int64"
          },
          "batchNumber": {
            "type": "string"
          },
          "plannedOutput": {
            "type": "number"
          },
          "actualOutput": {
            "type": "number"
          },
          "startAt": {
            "type": "string",
            "format": "date-time"
          },
          "completeAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "isOutsourced": {
            "type": "boolean"
          },
          "outsourceVendor": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedStartAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedDurationHours": {
            "type": "number"
          },
          "qrToken": {
            "type": "string"
          },
          "qcLastResult": {
            "type": "string"
          },
          "qcLastCheckedAt": {
            "type": "string",
            "format": "date-time"
          },
          "qcAssigneeId": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "Bom": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "version": {
            "type": "string"
          },
          "versionNotes": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "effectiveDate": {
            "type": "string",
            "format": "date"
          },
          "obsoleteDate": {
            "type": "string",
            "format": "date"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Contract": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "contractNumber": {
            "type": "string"
          },
          "quotation": {
            "$ref": "#/components/schemas/Quotation"
          },
          "customer": {
            "$ref": "#/components/schemas/Customer"
          },
          "contractDate": {
            "type": "string",
            "format": "date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date"
          },
          "totalAmount": {
            "type": "number"
          },
          "filePath": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "assignedSales": {
            "$ref": "#/components/schemas/User"
          },
          "assignedPlanning": {
            "$ref": "#/components/schemas/User"
          },
          "directorApprovedBy": {
            "$ref": "#/components/schemas/User"
          },
          "directorApprovedAt": {
            "type": "string",
            "format": "date-time"
          },
          "directorApprovalNotes": {
            "type": "string"
          },
          "salesApprovedBy": {
            "$ref": "#/components/schemas/User"
          },
          "salesApprovedAt": {
            "type": "string",
            "format": "date-time"
          },
          "planningApprovedBy": {
            "$ref": "#/components/schemas/User"
          },
          "planningApprovedAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "customerCode": {
            "type": "string"
          },
          "companyName": {
            "type": "string"
          },
          "taxCode": {
            "type": "string"
          },
          "businessLicense": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "contactPerson": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "position": {
            "type": "string"
          },
          "verified": {
            "type": "boolean"
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time"
          },
          "password": {
            "type": "string"
          },
          "forcePasswordChange": {
            "type": "boolean"
          },
          "additionalContacts": {
            "type": "string"
          },
          "customerType": {
            "type": "string"
          },
          "industry": {
            "type": "string"
          },
          "creditLimit": {
            "type": "number"
          },
          "paymentTerms": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "registrationType": {
            "type": "string"
          },
          "salesInCharge": {
            "$ref": "#/components/schemas/User"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "Machine": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "specifications": {
            "type": "string"
          },
          "lastMaintenanceAt": {
            "type": "string",
            "format": "date-time"
          },
          "nextMaintenanceAt": {
            "type": "string",
            "format": "date-time"
          },
          "maintenanceIntervalDays": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Product": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "category": {
            "$ref": "#/components/schemas/ProductCategory"
          },
          "unit": {
            "type": "string"
          },
          "standardWeight": {
            "type": "number"
          },
          "standardDimensions": {
            "type": "string"
          },
          "basePrice": {
            "type": "number"
          },
          "active": {
            "type": "boolean"
          }
        }
      },
      "ProductCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "parent": {
            "$ref": "#/components/schemas/ProductCategory"
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "active": {
            "type": "boolean"
          }
        }
      },
      "ProductionOrder": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "poNumber": {
            "type": "string"
          },
          "contract": {
            "$ref": "#/components/schemas/Contract"
          },
          "totalQuantity": {
            "type": "number"
          },
          "plannedStartDate": {
            "type": "string",
            "format": "date"
          },
          "plannedEndDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "type": "string"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          },
          "assignedTechnician": {
            "$ref": "#/components/schemas/User"
          },
          "assignedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductionOrderDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrder": {
            "$ref": "#/components/schemas/ProductionOrder"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "bom": {
            "$ref": "#/components/schemas/Bom"
          },
          "bomVersion": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "noteColor": {
            "type": "string"
          }
        }
      },
      "ProductionStage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "workOrderDetail": {
            "$ref": "#/components/schemas/WorkOrderDetail"
          },
          "stageType": {
            "type": "string"
          },
          "stageSequence": {
            "type": "integer",
            "format": "int32"
          },
          "machine": {
            "$ref": "#/components/schemas/Machine"
          },
          "assignedTo": {
            "$ref": "#/components/schemas/User"
          },
          "assignedLeader": {
            "$ref": "#/components/schemas/User"
          },
          "batchNumber": {
            "type": "string"
          },
          "plannedOutput": {
            "type": "number"
          },
          "actualOutput": {
            "type": "number"
          },
          "startAt": {
            "type": "string",
            "format": "date-time"
          },
          "completeAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "outsourced": {
            "type": "boolean"
          },
          "outsourceVendor": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedStartAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedDurationHours": {
            "type": "number"
          },
          "qrToken": {
            "type": "string"
          },
          "qcLastResult": {
            "type": "string"
          },
          "qcLastCheckedAt": {
            "type": "string",
            "format": "date-time"
          },
          "qcAssignee": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "Quotation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "quotationNumber": {
            "type": "string"
          },
          "rfq": {
            "$ref": "#/components/schemas/Rfq"
          },
          "customer": {
            "$ref": "#/components/schemas/Customer"
          },
          "validUntil": {
            "type": "string",
            "format": "date"
          },
          "totalAmount": {
            "type": "number"
          },
          "filePath": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "sentAt": {
            "type": "string",
            "format": "date-time"
          },
          "accepted": {
            "type": "boolean"
          },
          "acceptedAt": {
            "type": "string",
            "format": "date-time"
          },
          "canceled": {
            "type": "boolean"
          },
          "rejectedAt": {
            "type": "string",
            "format": "date-time"
          },
          "rejectReason": {
            "type": "string"
          },
          "capacityCheckedBy": {
            "$ref": "#/components/schemas/User"
          },
          "capacityCheckedAt": {
            "type": "string",
            "format": "date-time"
          },
          "capacityCheckNotes": {
            "type": "string"
          },
          "assignedSales": {
            "$ref": "#/components/schemas/User"
          },
          "assignedPlanning": {
            "$ref": "#/components/schemas/User"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          },
          "contactPersonSnapshot": {
            "type": "string"
          },
          "contactEmailSnapshot": {
            "type": "string"
          },
          "contactPhoneSnapshot": {
            "type": "string"
          },
          "contactAddressSnapshot": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuotationDetail"
            }
          }
        }
      },
      "QuotationDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "quotation": {
            "$ref": "#/components/schemas/Quotation"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "unitPrice": {
            "type": "number"
          },
          "totalPrice": {
            "type": "number"
          },
          "noteColor": {
            "type": "string"
          },
          "discountPercentage": {
            "type": "number"
          }
        }
      },
      "Rfq": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "rfqNumber": {
            "type": "string"
          },
          "customer": {
            "$ref": "#/components/schemas/Customer"
          },
          "sourceType": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "sent": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "assignedSales": {
            "$ref": "#/components/schemas/User"
          },
          "assignedPlanning": {
            "$ref": "#/components/schemas/User"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvalDate": {
            "type": "string",
            "format": "date-time"
          },
          "salesConfirmedAt": {
            "type": "string",
            "format": "date-time"
          },
          "salesConfirmedBy": {
            "$ref": "#/components/schemas/User"
          },
          "locked": {
            "type": "boolean"
          },
          "capacityStatus": {
            "type": "string"
          },
          "capacityReason": {
            "type": "string"
          },
          "proposedNewDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "contactPersonSnapshot": {
            "type": "string"
          },
          "contactEmailSnapshot": {
            "type": "string"
          },
          "contactPhoneSnapshot": {
            "type": "string"
          },
          "contactAddressSnapshot": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetail"
            }
          }
        }
      },
      "RfqDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "rfq": {
            "$ref": "#/components/schemas/Rfq"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "noteColor": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "Role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          }
        }
      },
      "StageRiskAssessment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionStage": {
            "$ref": "#/components/schemas/ProductionStage"
          },
          "severity": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "rootCause": {
            "type": "string"
          },
          "solutionProposal": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          },
          "impactedDelivery": {
            "type": "boolean"
          },
          "proposedNewDate": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "employeeCode": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "avatar": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "verified": {
            "type": "boolean"
          },
          "resetCode": {
            "type": "string"
          },
          "resetCodeExpiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time"
          },
          "deletedAt": {
            "type": "string",
            "format": "date-time"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "updatedBy": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "WorkOrder": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrder": {
            "$ref": "#/components/schemas/ProductionOrder"
          },
          "woNumber": {
            "type": "string"
          },
          "deadline": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "sendStatus": {
            "type": "string"
          },
          "production": {
            "type": "boolean"
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "approvedBy": {
            "$ref": "#/components/schemas/User"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WorkOrderDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "workOrder": {
            "$ref": "#/components/schemas/WorkOrder"
          },
          "productionOrderDetail": {
            "$ref": "#/components/schemas/ProductionOrderDetail"
          },
          "stageSequence": {
            "type": "integer",
            "format": "int32"
          },
          "plannedStartAt": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndAt": {
            "type": "string",
            "format": "date-time"
          },
          "startAt": {
            "type": "string",
            "format": "date-time"
          },
          "completeAt": {
            "type": "string",
            "format": "date-time"
          },
          "workStatus": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ProductionOrderDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrderId": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "bomId": {
            "type": "integer",
            "format": "int64"
          },
          "bomVersion": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "noteColor": {
            "type": "string"
          }
        }
      },
      "ProductionOrderDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "poNumber": {
            "type": "string"
          },
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "totalQuantity": {
            "type": "number"
          },
          "plannedStartDate": {
            "type": "string",
            "format": "date"
          },
          "plannedEndDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionOrderDetailDto"
            }
          },
          "assignedTechnicianId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MaterialStockDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "materialCode": {
            "type": "string"
          },
          "materialName": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "unitPrice": {
            "type": "number"
          },
          "location": {
            "type": "string"
          },
          "batchNumber": {
            "type": "string"
          },
          "receivedDate": {
            "type": "string",
            "format": "date"
          },
          "expiryDate": {
            "type": "string",
            "format": "date"
          },
          "lastUpdatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SubmitForApprovalRequest": {
        "type": "object",
        "properties": {
          "notes": {
            "type": "string"
          }
        }
      },
      "ProductionPlanDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "planId": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "productCode": {
            "type": "string"
          },
          "productName": {
            "type": "string"
          },
          "productDescription": {
            "type": "string"
          },
          "plannedQuantity": {
            "type": "number"
          },
          "requiredDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "proposedStartDate": {
            "type": "string",
            "format": "date"
          },
          "proposedEndDate": {
            "type": "string",
            "format": "date"
          },
          "workCenterId": {
            "type": "integer",
            "format": "int64"
          },
          "workCenterName": {
            "type": "string"
          },
          "workCenterCode": {
            "type": "string"
          },
          "expectedCapacityPerDay": {
            "type": "number"
          },
          "leadTimeDays": {
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "type": "string"
          },
          "stages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionPlanStageDto"
            }
          },
          "totalStages": {
            "type": "integer",
            "format": "int32"
          },
          "totalDurationDays": {
            "type": "number"
          }
        }
      },
      "ProductionPlanDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "contractNumber": {
            "type": "string"
          },
          "planCode": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdByName": {
            "type": "string"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedByName": {
            "type": "string"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          },
          "approvalNotes": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionPlanDetailDto"
            }
          },
          "customerName": {
            "type": "string"
          },
          "customerCode": {
            "type": "string"
          },
          "contractCreatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "contractApprovedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductionPlanStageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "planDetailId": {
            "type": "integer",
            "format": "int64"
          },
          "stageType": {
            "type": "string"
          },
          "stageTypeName": {
            "type": "string"
          },
          "sequenceNo": {
            "type": "integer",
            "format": "int32"
          },
          "assignedMachineId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedMachineName": {
            "type": "string"
          },
          "assignedMachineCode": {
            "type": "string"
          },
          "inChargeUserId": {
            "type": "integer",
            "format": "int64"
          },
          "inChargeUserName": {
            "type": "string"
          },
          "qcUserId": {
            "type": "integer",
            "format": "int64"
          },
          "qcUserName": {
            "type": "string"
          },
          "plannedStartTime": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndTime": {
            "type": "string",
            "format": "date-time"
          },
          "minRequiredDurationMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "transferBatchQuantity": {
            "type": "number"
          },
          "capacityPerHour": {
            "type": "number"
          },
          "notes": {
            "type": "string"
          },
          "durationMinutes": {
            "type": "integer",
            "format": "int64"
          },
          "estimatedOutput": {
            "type": "number"
          }
        }
      },
      "RejectProductionPlanRequest": {
        "type": "object",
        "properties": {
          "rejectionReason": {
            "type": "string"
          }
        }
      },
      "ApproveProductionPlanRequest": {
        "type": "object",
        "properties": {
          "approvalNotes": {
            "type": "string"
          }
        }
      },
      "ProductionPlanStageRequest": {
        "type": "object",
        "properties": {
          "stageType": {
            "type": "string"
          },
          "sequenceNo": {
            "type": "integer",
            "format": "int32"
          },
          "assignedMachineId": {
            "type": "integer",
            "format": "int64"
          },
          "inChargeUserId": {
            "type": "integer",
            "format": "int64"
          },
          "qcUserId": {
            "type": "integer",
            "format": "int64"
          },
          "plannedStartTime": {
            "type": "string",
            "format": "date-time"
          },
          "plannedEndTime": {
            "type": "string",
            "format": "date-time"
          },
          "minRequiredDurationMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "transferBatchQuantity": {
            "type": "number"
          },
          "capacityPerHour": {
            "type": "number"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ProductCategoryRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Tên danh mục",
            "example": "Bath Towels"
          },
          "description": {
            "type": "string",
            "description": "Mô tả"
          },
          "parentId": {
            "type": "integer",
            "description": "Parent category ID",
            "format": "int64",
            "example": 1
          },
          "displayOrder": {
            "type": "integer",
            "description": "Thứ tự hiển thị",
            "format": "int32",
            "example": 0
          },
          "active": {
            "type": "boolean",
            "description": "Kích hoạt",
            "example": true
          }
        }
      },
      "ProductCategoryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "parentId": {
            "type": "integer",
            "format": "int64"
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PaymentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "paymentTermId": {
            "type": "integer",
            "format": "int64"
          },
          "paymentType": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "paymentDate": {
            "type": "string",
            "format": "date"
          },
          "paymentMethod": {
            "type": "string"
          },
          "paymentReference": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "invoiceNumber": {
            "type": "string"
          },
          "receiptFilePath": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "verifiedById": {
            "type": "integer",
            "format": "int64"
          },
          "verifiedAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PaymentTermDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "termSequence": {
            "type": "integer",
            "format": "int32"
          },
          "termName": {
            "type": "string"
          },
          "percentage": {
            "type": "number"
          },
          "amount": {
            "type": "number"
          },
          "dueDate": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MachineRequest": {
        "required": [
          "code",
          "name",
          "type"
        ],
        "type": "object",
        "properties": {
          "code": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Mã máy",
            "example": "WEAVE-01"
          },
          "name": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "Tên máy",
            "example": "Weaving Machine #1"
          },
          "type": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string",
            "description": "Loại",
            "example": "WEAVING"
          },
          "status": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string",
            "description": "Trạng thái",
            "example": "AVAILABLE"
          },
          "location": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Vị trí",
            "example": "A1"
          },
          "specifications": {
            "type": "string",
            "description": "Thông số (JSON)",
            "example": "{\"speed\":120}"
          },
          "lastMaintenanceAt": {
            "type": "string",
            "description": "Ngày bảo trì gần nhất",
            "format": "date-time"
          },
          "nextMaintenanceAt": {
            "type": "string",
            "description": "Ngày bảo trì kế tiếp",
            "format": "date-time"
          },
          "maintenanceIntervalDays": {
            "type": "integer",
            "description": "Chu kỳ bảo trì (ngày)",
            "format": "int32",
            "example": 90
          }
        }
      },
      "MachineDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "specifications": {
            "type": "string"
          },
          "lastMaintenanceAt": {
            "type": "string",
            "format": "date-time"
          },
          "nextMaintenanceAt": {
            "type": "string",
            "format": "date-time"
          },
          "maintenanceIntervalDays": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MachineMaintenanceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "machineId": {
            "type": "integer",
            "format": "int64"
          },
          "maintenanceType": {
            "type": "string"
          },
          "issueDescription": {
            "type": "string"
          },
          "resolution": {
            "type": "string"
          },
          "reportedById": {
            "type": "integer",
            "format": "int64"
          },
          "assignedToId": {
            "type": "integer",
            "format": "int64"
          },
          "reportedAt": {
            "type": "string",
            "format": "date-time"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "cost": {
            "type": "number"
          },
          "downtimeMinutes": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MaterialRequisitionDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "requisitionId": {
            "type": "integer",
            "format": "int64"
          },
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "quantityRequested": {
            "type": "number"
          },
          "quantityApproved": {
            "type": "number"
          },
          "quantityIssued": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "MaterialRequisitionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "requisitionNumber": {
            "type": "string"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "requestedById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "requestedAt": {
            "type": "string",
            "format": "date-time"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          },
          "issuedAt": {
            "type": "string",
            "format": "date-time"
          },
          "notes": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialRequisitionDetailDto"
            }
          }
        }
      },
      "StagePauseLogDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "pausedById": {
            "type": "integer",
            "format": "int64"
          },
          "resumedById": {
            "type": "integer",
            "format": "int64"
          },
          "pauseReason": {
            "type": "string"
          },
          "pauseNotes": {
            "type": "string"
          },
          "pausedAt": {
            "type": "string",
            "format": "date-time"
          },
          "resumedAt": {
            "type": "string",
            "format": "date-time"
          },
          "durationMinutes": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "OutsourcingTaskDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "vendorName": {
            "type": "string"
          },
          "deliveryNoteNumber": {
            "type": "string"
          },
          "weightSent": {
            "type": "number"
          },
          "weightReturned": {
            "type": "number"
          },
          "shrinkageRate": {
            "type": "number"
          },
          "expectedQuantity": {
            "type": "number"
          },
          "returnedQuantity": {
            "type": "number"
          },
          "unitCost": {
            "type": "number"
          },
          "totalCost": {
            "type": "number"
          },
          "sentAt": {
            "type": "string",
            "format": "date-time"
          },
          "expectedReturnDate": {
            "type": "string",
            "format": "date"
          },
          "actualReturnDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProductionLossDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionOrderId": {
            "type": "integer",
            "format": "int64"
          },
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "quantityLost": {
            "type": "number"
          },
          "lossType": {
            "type": "string"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "notes": {
            "type": "string"
          },
          "recordedById": {
            "type": "integer",
            "format": "int64"
          },
          "recordedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CustomerUpdateRequest": {
        "type": "object",
        "properties": {
          "companyName": {
            "type": "string",
            "description": "Tên công ty"
          },
          "contactPerson": {
            "type": "string",
            "description": "Người liên hệ chính"
          },
          "email": {
            "type": "string",
            "description": "Email đăng nhập"
          },
          "phoneNumber": {
            "type": "string",
            "description": "SĐT"
          },
          "position": {
            "type": "string",
            "description": "Vị trí (Giám đốc, Sales, HR, ...)"
          },
          "address": {
            "type": "string",
            "description": "Địa chỉ"
          },
          "taxCode": {
            "type": "string",
            "description": "Mã số thuế"
          },
          "industry": {
            "type": "string",
            "description": "Ngành nghề"
          },
          "customerType": {
            "type": "string",
            "description": "Loại khách hàng"
          },
          "creditLimit": {
            "type": "number",
            "description": "Hạn mức tín dụng"
          },
          "paymentTerms": {
            "type": "string",
            "description": "Điều khoản thanh toán"
          },
          "isActive": {
            "type": "boolean",
            "description": "Kích hoạt"
          },
          "isVerified": {
            "type": "boolean",
            "description": "Xác minh"
          },
          "registrationType": {
            "type": "string",
            "description": "Hình thức đăng ký"
          },
          "password": {
            "type": "string",
            "description": "Mật khẩu (tùy chọn)"
          }
        }
      },
      "CustomerDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "companyName": {
            "type": "string"
          },
          "taxCode": {
            "type": "string"
          },
          "businessLicense": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "contactPerson": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "position": {
            "type": "string"
          },
          "additionalContacts": {
            "type": "string"
          },
          "customerType": {
            "type": "string"
          },
          "industry": {
            "type": "string"
          },
          "creditLimit": {
            "type": "number"
          },
          "paymentTerms": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isVerified": {
            "type": "boolean"
          },
          "registrationType": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ContractDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "contractNumber": {
            "type": "string"
          },
          "quotationId": {
            "type": "integer",
            "format": "int64"
          },
          "customerId": {
            "type": "integer",
            "format": "int64"
          },
          "contractDate": {
            "type": "string",
            "format": "date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date"
          },
          "totalAmount": {
            "type": "number"
          },
          "filePath": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "directorApprovedById": {
            "type": "integer",
            "format": "int64"
          },
          "directorApprovedAt": {
            "type": "string",
            "format": "date-time"
          },
          "directorApprovalNotes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "assignedSalesId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedPlanningId": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "salesApprovedById": {
            "type": "integer",
            "format": "int64"
          },
          "salesApprovedAt": {
            "type": "string",
            "format": "date-time"
          },
          "planningApprovedById": {
            "type": "integer",
            "format": "int64"
          },
          "planningApprovedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Tên hiển thị",
            "example": "User Name"
          },
          "phoneNumber": {
            "type": "string",
            "description": "SĐT",
            "example": "0123456789"
          },
          "avatar": {
            "type": "string",
            "description": "Ảnh đại diện URL",
            "example": "https://..."
          },
          "active": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt"
          },
          "verified": {
            "type": "boolean",
            "description": "Trạng thái xác minh"
          },
          "password": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Mật khẩu mới (tùy chọn)",
            "example": "NewPass1"
          },
          "roleId": {
            "type": "integer",
            "description": "Role ID mới (tùy chọn)",
            "format": "int64",
            "example": 2
          }
        }
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "avatar": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isVerified": {
            "type": "boolean"
          },
          "roleName": {
            "type": "string"
          },
          "employeeCode": {
            "type": "string"
          }
        }
      },
      "NotificationDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "type": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "referenceType": {
            "type": "string"
          },
          "referenceId": {
            "type": "integer",
            "format": "int64"
          },
          "isRead": {
            "type": "boolean"
          },
          "readAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AuditLogDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "action": {
            "type": "string"
          },
          "entityType": {
            "type": "string"
          },
          "entityId": {
            "type": "integer",
            "format": "int64"
          },
          "oldValue": {
            "type": "string"
          },
          "newValue": {
            "type": "string"
          },
          "ipAddress": {
            "type": "string"
          },
          "userAgent": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "RfqCreateDto": {
        "required": [
          "customerId"
        ],
        "type": "object",
        "properties": {
          "customerId": {
            "type": "integer",
            "format": "int64"
          },
          "rfqNumber": {
            "type": "string"
          },
          "sourceType": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "isSent": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "assignedSalesId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedPlanningId": {
            "type": "integer",
            "format": "int64"
          },
          "approvedById": {
            "type": "integer",
            "format": "int64"
          },
          "approvalDate": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetailDto"
            }
          },
          "employeeCode": {
            "type": "string"
          }
        }
      },
      "CapacityCheckResultDto": {
        "type": "object",
        "properties": {
          "machineCapacity": {
            "$ref": "#/components/schemas/MachineCapacityDto"
          },
          "warehouseCapacity": {
            "$ref": "#/components/schemas/WarehouseCapacityDto"
          }
        }
      },
      "ConflictDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "machineType": {
            "type": "string"
          },
          "required": {
            "type": "number"
          },
          "available": {
            "type": "number"
          },
          "used": {
            "type": "number"
          },
          "conflictMessage": {
            "type": "string"
          }
        }
      },
      "DailyCapacityDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "warpingRequired": {
            "type": "number"
          },
          "warpingAvailable": {
            "type": "number"
          },
          "weavingRequired": {
            "type": "number"
          },
          "weavingAvailable": {
            "type": "number"
          },
          "sewingRequired": {
            "type": "number"
          },
          "sewingAvailable": {
            "type": "number"
          }
        }
      },
      "MachineCapacityDto": {
        "type": "object",
        "properties": {
          "sufficient": {
            "type": "boolean"
          },
          "bottleneck": {
            "type": "string"
          },
          "requiredDays": {
            "type": "number"
          },
          "availableDays": {
            "type": "number"
          },
          "productionStartDate": {
            "type": "string",
            "format": "date"
          },
          "productionEndDate": {
            "type": "string",
            "format": "date"
          },
          "dailyCapacities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyCapacityDto"
            }
          },
          "conflicts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConflictDto"
            }
          },
          "warpingStage": {
            "$ref": "#/components/schemas/SequentialStageDto"
          },
          "weavingStage": {
            "$ref": "#/components/schemas/SequentialStageDto"
          },
          "dyeingStage": {
            "$ref": "#/components/schemas/SequentialStageDto"
          },
          "cuttingStage": {
            "$ref": "#/components/schemas/SequentialStageDto"
          },
          "sewingStage": {
            "$ref": "#/components/schemas/SequentialStageDto"
          },
          "totalWaitTime": {
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "mergeSuggestion": {
            "type": "string"
          }
        }
      },
      "SequentialStageDto": {
        "type": "object",
        "properties": {
          "stageName": {
            "type": "string"
          },
          "stageType": {
            "type": "string"
          },
          "processingDays": {
            "type": "number"
          },
          "waitTime": {
            "type": "number"
          },
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "format": "date"
          },
          "capacity": {
            "type": "number"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "WarehouseCapacityDto": {
        "type": "object",
        "properties": {
          "sufficient": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "RfqAssignRequest": {
        "required": [
          "assignedSalesId"
        ],
        "type": "object",
        "properties": {
          "assignedSalesId": {
            "type": "integer",
            "description": "ID Sales chính phụ trách RFQ",
            "format": "int64",
            "example": 5
          },
          "approvedById": {
            "type": "integer",
            "description": "ID Giám đốc phê duyệt (tuỳ chọn)",
            "format": "int64",
            "example": 1
          }
        },
        "description": "Request gán Sales cho RFQ ở trạng thái DRAFT"
      },
      "AssignSalesRequest": {
        "type": "object",
        "properties": {
          "assignedSalesId": {
            "type": "integer",
            "format": "int64"
          },
          "employeeCode": {
            "type": "string"
          }
        }
      },
      "RfqPublicCreateDto": {
        "required": [
          "contactPerson"
        ],
        "type": "object",
        "properties": {
          "rfqNumber": {
            "type": "string"
          },
          "contactPerson": {
            "type": "string"
          },
          "contactEmail": {
            "type": "string"
          },
          "contactPhone": {
            "pattern": "^$|^[0-9+\\-() ]{6,20}$",
            "type": "string"
          },
          "contactAddress": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "sourceType": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "isSent": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          },
          "approvalDate": {
            "type": "string",
            "format": "date-time"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetailDto"
            }
          },
          "employeeCode": {
            "type": "string"
          }
        }
      },
      "SalesRfqCreateRequest": {
        "required": [
          "contactPerson"
        ],
        "type": "object",
        "properties": {
          "contactPerson": {
            "type": "string"
          },
          "contactEmail": {
            "type": "string"
          },
          "contactPhone": {
            "pattern": "^$|^[0-9+\\-() ]{6,20}$",
            "type": "string"
          },
          "contactAddress": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetailDto"
            }
          }
        }
      },
      "RecalculatePriceRequest": {
        "required": [
          "profitMargin",
          "rfqId"
        ],
        "type": "object",
        "properties": {
          "rfqId": {
            "type": "integer",
            "description": "ID của RFQ",
            "format": "int64",
            "example": 123
          },
          "profitMargin": {
            "minimum": 1,
            "exclusiveMinimum": false,
            "type": "number",
            "description": "Lợi nhuận mong muốn (1.0 = 0%, 1.1 = 10%, 1.15 = 15%)",
            "example": 1.15
          }
        },
        "description": "Request tính lại giá khi thay đổi profit margin"
      },
      "PriceCalculationDto": {
        "type": "object",
        "properties": {
          "totalMaterialCost": {
            "type": "number",
            "description": "Tổng giá nguyên vật liệu"
          },
          "totalProcessCost": {
            "type": "number",
            "description": "Tổng chi phí công đoạn"
          },
          "totalBaseCost": {
            "type": "number",
            "description": "Tổng chi phí cơ bản (nguyên liệu + công đoạn)"
          },
          "profitMargin": {
            "type": "number",
            "description": "Lợi nhuận mong muốn (%)"
          },
          "finalTotalPrice": {
            "type": "number",
            "description": "Tổng giá cuối cùng (có lợi nhuận)"
          },
          "productDetails": {
            "type": "array",
            "description": "Chi tiết tính giá theo từng sản phẩm",
            "items": {
              "$ref": "#/components/schemas/ProductPriceDetailDto"
            }
          }
        },
        "description": "Thông tin tính giá báo giá"
      },
      "ProductPriceDetailDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "integer",
            "description": "ID sản phẩm",
            "format": "int64"
          },
          "productName": {
            "type": "string",
            "description": "Tên sản phẩm"
          },
          "quantity": {
            "type": "number",
            "description": "Số lượng"
          },
          "unitWeight": {
            "type": "number",
            "description": "Trọng lượng đơn vị (kg)"
          },
          "materialCostPerUnit": {
            "type": "number",
            "description": "Giá nguyên liệu cho 1 đơn vị"
          },
          "processCostPerUnit": {
            "type": "number",
            "description": "Chi phí công đoạn cho 1 đơn vị"
          },
          "baseCostPerUnit": {
            "type": "number",
            "description": "Tổng chi phí cơ bản cho 1 đơn vị"
          },
          "unitPrice": {
            "type": "number",
            "description": "Giá bán cho 1 đơn vị (có lợi nhuận)"
          },
          "totalPrice": {
            "type": "number",
            "description": "Tổng giá cho sản phẩm này"
          }
        },
        "description": "Chi tiết giá theo sản phẩm"
      },
      "CreateQuotationRequest": {
        "type": "object",
        "properties": {
          "rfqId": {
            "type": "integer",
            "format": "int64"
          },
          "planningUserId": {
            "type": "integer",
            "format": "int64"
          },
          "profitMargin": {
            "type": "number"
          },
          "capacityCheckNotes": {
            "type": "string"
          }
        }
      },
      "QcPhotoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "qcInspectionId": {
            "type": "integer",
            "format": "int64"
          },
          "photoUrl": {
            "type": "string"
          },
          "caption": {
            "type": "string"
          },
          "uploadedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CreateProductionPlanRequest": {
        "type": "object",
        "properties": {
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "planCode": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionPlanDetailRequest"
            }
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ProductionPlanDetailRequest": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "plannedQuantity": {
            "type": "number"
          },
          "requiredDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "proposedStartDate": {
            "type": "string",
            "format": "date"
          },
          "proposedEndDate": {
            "type": "string",
            "format": "date"
          },
          "workCenterId": {
            "type": "integer",
            "format": "int64"
          },
          "expectedCapacityPerDay": {
            "type": "number"
          },
          "leadTimeDays": {
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "type": "string"
          },
          "stages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionPlanStageRequest"
            }
          }
        }
      },
      "MachineAssignmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "machineId": {
            "type": "integer",
            "format": "int64"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "assignedAt": {
            "type": "string",
            "format": "date-time"
          },
          "releasedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MachineSuggestionRequest": {
        "type": "object",
        "properties": {
          "stageType": {
            "type": "string"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "requiredQuantity": {
            "type": "number"
          },
          "preferredStartTime": {
            "type": "string",
            "format": "date-time"
          },
          "preferredEndTime": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MachineSuggestionDto": {
        "type": "object",
        "properties": {
          "machineId": {
            "type": "integer",
            "format": "int64"
          },
          "machineCode": {
            "type": "string"
          },
          "machineName": {
            "type": "string"
          },
          "machineType": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "capacityPerHour": {
            "type": "number"
          },
          "estimatedDurationHours": {
            "type": "number"
          },
          "canHandleQuantity": {
            "type": "boolean"
          },
          "available": {
            "type": "boolean"
          },
          "availabilityScore": {
            "type": "number",
            "format": "double"
          },
          "conflicts": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "suggestedStartTime": {
            "type": "string",
            "format": "date-time"
          },
          "suggestedEndTime": {
            "type": "string",
            "format": "date-time"
          },
          "priorityScore": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "MaterialTransactionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "transactionType": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "referenceType": {
            "type": "string"
          },
          "referenceId": {
            "type": "integer",
            "format": "int64"
          },
          "batchNumber": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FinishedGoodsTransactionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "transactionType": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "referenceType": {
            "type": "string"
          },
          "referenceId": {
            "type": "integer",
            "format": "int64"
          },
          "batchNumber": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "qualityGrade": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FinishedGoodsStockDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "batchNumber": {
            "type": "string"
          },
          "productionDate": {
            "type": "string",
            "format": "date"
          },
          "qualityGrade": {
            "type": "string"
          },
          "qcInspectionId": {
            "type": "integer",
            "format": "int64"
          },
          "lastUpdatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "StageTrackingDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "productionStageId": {
            "type": "integer",
            "format": "int64"
          },
          "operatorId": {
            "type": "integer",
            "format": "int64"
          },
          "action": {
            "type": "string"
          },
          "quantityCompleted": {
            "type": "number"
          },
          "notes": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "evidencePhotoUrl": {
            "type": "string"
          }
        }
      },
      "CustomerCreateRequest": {
        "required": [
          "companyName"
        ],
        "type": "object",
        "properties": {
          "companyName": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "contactPerson": {
            "maxLength": 150,
            "minLength": 0,
            "type": "string"
          },
          "email": {
            "maxLength": 150,
            "minLength": 0,
            "type": "string"
          },
          "phoneNumber": {
            "maxLength": 30,
            "minLength": 0,
            "type": "string"
          },
          "position": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string"
          },
          "address": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string"
          },
          "taxCode": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isVerified": {
            "type": "boolean"
          },
          "registrationType": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string"
          },
          "createdById": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "VerifyResetCodeRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "code": {
            "type": "string"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "ForgotPasswordRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "currentPassword": {
            "type": "string"
          },
          "newPassword": {
            "type": "string"
          }
        }
      },
      "CreateUserRequest": {
        "required": [
          "email",
          "password",
          "roleId"
        ],
        "type": "object",
        "properties": {
          "email": {
            "maxLength": 150,
            "minLength": 0,
            "type": "string",
            "description": "Email đăng nhập",
            "example": "user@example.com"
          },
          "password": {
            "maxLength": 100,
            "minLength": 6,
            "type": "string",
            "description": "Mật khẩu",
            "example": "Passw0rd"
          },
          "name": {
            "type": "string",
            "description": "Tên hiển thị",
            "example": "User Name"
          },
          "phoneNumber": {
            "type": "string",
            "description": "SĐT",
            "example": "0123456789"
          },
          "avatar": {
            "type": "string",
            "description": "Ảnh đại diện URL",
            "example": "https://..."
          },
          "active": {
            "type": "boolean",
            "description": "Trạng thái kích hoạt",
            "default": true
          },
          "verified": {
            "type": "boolean",
            "description": "Trạng thái xác minh",
            "default": false
          },
          "roleId": {
            "type": "integer",
            "description": "Role ID",
            "format": "int64",
            "example": 2
          }
        }
      },
      "SalesRfqEditRequest": {
        "type": "object",
        "properties": {
          "contactPerson": {
            "type": "string"
          },
          "contactEmail": {
            "type": "string"
          },
          "contactPhone": {
            "pattern": "^$|^[0-9+\\-() ]{6,20}$",
            "type": "string"
          },
          "contactAddress": {
            "type": "string"
          },
          "contactMethod": {
            "type": "string"
          },
          "expectedDeliveryDate": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string"
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDetailDto"
            }
          }
        }
      },
      "PageResponse": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "PageResponseRfqDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RfqDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "PageResponseQuotationDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuotationDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "PageResponseMaterialStockDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialStockDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "ProductionLotContractDto": {
        "type": "object",
        "properties": {
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "contractNumber": {
            "type": "string"
          },
          "allocatedQuantity": {
            "type": "number"
          },
          "contractDate": {
            "type": "string",
            "format": "date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "ProductionLotDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "lotCode": {
            "type": "string"
          },
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "productCode": {
            "type": "string"
          },
          "productName": {
            "type": "string"
          },
          "sizeSnapshot": {
            "type": "string"
          },
          "totalQuantity": {
            "type": "number"
          },
          "deliveryDateTarget": {
            "type": "string",
            "format": "date"
          },
          "contractDateMin": {
            "type": "string",
            "format": "date"
          },
          "contractDateMax": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "orderNumbers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "currentPlanId": {
            "type": "integer",
            "format": "int64"
          },
          "currentPlanStatus": {
            "type": "string"
          },
          "mergedContracts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductionLotContractDto"
            }
          },
          "totalContractsCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MaterialConsumptionDetail": {
        "type": "object",
        "properties": {
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "materialCode": {
            "type": "string"
          },
          "materialName": {
            "type": "string"
          },
          "materialType": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "quantityPerUnit": {
            "type": "number"
          },
          "basicQuantityRequired": {
            "type": "number"
          },
          "wasteAmount": {
            "type": "number"
          },
          "totalQuantityRequired": {
            "type": "number"
          },
          "wastePercentage": {
            "type": "number"
          },
          "stage": {
            "type": "string"
          },
          "optional": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          },
          "unitPrice": {
            "type": "number"
          },
          "totalValue": {
            "type": "number"
          }
        }
      },
      "MaterialConsumptionResult": {
        "type": "object",
        "properties": {
          "planId": {
            "type": "integer",
            "format": "int64"
          },
          "planCode": {
            "type": "string"
          },
          "totalProducts": {
            "type": "integer",
            "format": "int32"
          },
          "wastePercentage": {
            "type": "number"
          },
          "totalMaterialValue": {
            "type": "number"
          },
          "totalBasicQuantity": {
            "type": "number"
          },
          "totalWasteAmount": {
            "type": "number"
          },
          "productConsumptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductMaterialConsumption"
            }
          },
          "materialSummaries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialSummary"
            }
          }
        }
      },
      "MaterialSummary": {
        "type": "object",
        "properties": {
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "materialCode": {
            "type": "string"
          },
          "materialName": {
            "type": "string"
          },
          "materialType": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "basicQuantityRequired": {
            "type": "number"
          },
          "wasteAmount": {
            "type": "number"
          },
          "totalQuantityRequired": {
            "type": "number"
          },
          "totalValue": {
            "type": "number"
          },
          "unitPrice": {
            "type": "number"
          }
        }
      },
      "ProductMaterialConsumption": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "productCode": {
            "type": "string"
          },
          "productName": {
            "type": "string"
          },
          "plannedQuantity": {
            "type": "number"
          },
          "bomVersion": {
            "type": "string"
          },
          "materialDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialConsumptionDetail"
            }
          }
        }
      },
      "MaterialAvailability": {
        "type": "object",
        "properties": {
          "materialId": {
            "type": "integer",
            "format": "int64"
          },
          "materialCode": {
            "type": "string"
          },
          "materialName": {
            "type": "string"
          },
          "materialType": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "requiredQuantity": {
            "type": "number"
          },
          "currentStock": {
            "type": "number"
          },
          "reservedQuantity": {
            "type": "number"
          },
          "availableStock": {
            "type": "number"
          },
          "available": {
            "type": "boolean"
          },
          "shortage": {
            "type": "number"
          }
        }
      },
      "MaterialAvailabilityResult": {
        "type": "object",
        "properties": {
          "planId": {
            "type": "integer",
            "format": "int64"
          },
          "planCode": {
            "type": "string"
          },
          "allMaterialsAvailable": {
            "type": "boolean"
          },
          "materialAvailabilities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialAvailability"
            }
          }
        }
      },
      "PageResponseMachineDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "MachineAvailabilityResponse": {
        "type": "object",
        "properties": {
          "available": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "conflicts": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "suggestedStartTime": {
            "type": "string",
            "format": "date-time"
          },
          "suggestedEndTime": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PageResponseCustomerDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "PageResponseContractDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      },
      "CustomerInfo": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "integer",
            "format": "int64"
          },
          "customerName": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "companyName": {
            "type": "string"
          },
          "taxCode": {
            "type": "string"
          },
          "address": {
            "type": "string"
          }
        }
      },
      "OrderDetailsDto": {
        "type": "object",
        "properties": {
          "contractId": {
            "type": "integer",
            "format": "int64"
          },
          "contractNumber": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "contractDate": {
            "type": "string",
            "format": "date"
          },
          "deliveryDate": {
            "type": "string",
            "format": "date"
          },
          "totalAmount": {
            "type": "number"
          },
          "filePath": {
            "type": "string"
          },
          "customerInfo": {
            "$ref": "#/components/schemas/CustomerInfo"
          },
          "orderItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItemDto"
            }
          }
        }
      },
      "OrderItemDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "integer",
            "format": "int64"
          },
          "productName": {
            "type": "string"
          },
          "productSize": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "unitPrice": {
            "type": "number"
          },
          "totalPrice": {
            "type": "number"
          },
          "noteColor": {
            "type": "string"
          }
        }
      },
      "PageResponseUserDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserDto"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          }
        }
      }
    },
    "securitySchemes": {
      "bearer-jwt": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}